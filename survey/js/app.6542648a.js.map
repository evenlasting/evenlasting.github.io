{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/MatrixComponents/QuestionNameMatrix.vue?e5cb","webpack:///./src/App.vue?7e02","webpack:///./src/components/MatrixComponents/HyperEdgeMatrix.vue?0393","webpack:///./src/components/Question.vue?e779","webpack:///./src/components/Causal.vue?e378","webpack:///./src/components/utilComponents/CardTitle.vue?a8bb","webpack:///./src/App.vue?54c6","webpack:///./src/components/Question.vue?f0f4","webpack:///./src/store/index.js","webpack:///./src/util/util.js","webpack:///./src/components/utilComponents/CardTitle.vue?c75d","webpack:///src/components/utilComponents/CardTitle.vue","webpack:///./src/components/utilComponents/CardTitle.vue?5a21","webpack:///./src/components/utilComponents/CardTitle.vue?7113","webpack:///src/components/Question.vue","webpack:///./src/components/Question.vue?caa4","webpack:///./src/components/Question.vue?044b","webpack:///./src/components/Matrix.vue?9a03","webpack:///./src/components/MatrixComponents/HyperEdgeMatrix.vue?9676","webpack:///src/components/MatrixComponents/HyperEdgeMatrix.vue","webpack:///./src/components/MatrixComponents/HyperEdgeMatrix.vue?1857","webpack:///./src/components/MatrixComponents/HyperEdgeMatrix.vue?f326","webpack:///./src/components/MatrixComponents/QuestionNameMatrix.vue?d7fa","webpack:///src/components/MatrixComponents/QuestionNameMatrix.vue","webpack:///./src/components/MatrixComponents/QuestionNameMatrix.vue?b677","webpack:///./src/components/MatrixComponents/QuestionNameMatrix.vue?9b80","webpack:///src/components/Matrix.vue","webpack:///./src/components/Matrix.vue?1656","webpack:///./src/components/Matrix.vue?b5d0","webpack:///./src/components/Causal.vue?34fe","webpack:///./src/data/Survey.js","webpack:///./src/components/CausalComponent/CausalConstraints.vue?b5ea","webpack:///src/components/CausalComponent/CausalConstraints.vue","webpack:///./src/components/CausalComponent/CausalConstraints.vue?5d96","webpack:///./src/components/CausalComponent/CausalConstraints.vue","webpack:///src/components/Causal.vue","webpack:///./src/components/Causal.vue?d211","webpack:///./src/components/Causal.vue?d094","webpack:///./src/components/Graph.vue?788d","webpack:///src/components/Graph.vue","webpack:///./src/components/Graph.vue?0f4a","webpack:///./src/components/Graph.vue?fc2c","webpack:///./src/components/Arc.vue?fa58","webpack:///src/components/Arc.vue","webpack:///./src/components/Arc.vue?a93a","webpack:///./src/components/Arc.vue?9d00","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/main.js","webpack:///./src/components/Arc.vue?791d","webpack:///./src/components/Matrix.vue?21dc","webpack:///./src/components/Graph.vue?6e52","webpack:///./src/components/Arc.vue?e608"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","directives","rawName","expression","modifiers","attrs","fullScreenLoading","_e","staticClass","bodyCardStyle","val1","staticRenderFns","staticStyle","_l","item","index","on","$event","click","move","leave","visibleArr","_v","_s","Vue","use","Vuex","Store","state","CHIGroup","NODE","Question","selectedGroup","selectedNode","url","causeUrl","groupArr","size","selectedHyperEdge","peopleNumber","CHI","COR","demographicCol","coreProblemCol","normalProblemCol","problemColArr","colorArr","questionTypeList","questionOption","questionOptionNum","delNodeList","selectedHyperEdgeBack","screenCenterQuestionId","nodesConnections","questionOptionArr","questionOptionNumArr","causalDATA","causalConstraints","causalAddNode","peopleIndexConstraints","CHIBACK","nodesConnectionsBACK","causalAll","mutations","updateCausalAll","updatePeopleIndexConstraints","updateCausalConstraints","updateCausalAddNode","updateCausalDATA","updateLoading","loading","UpdateSurvey","surveyResponse","newCHI","newCHIGroup","newNODE","newQuestion","newTypeList","newNodesConnections","newPeopleNumber","newOption","newOptionNum","map","arr","CHIGroupBack","JSON","parse","stringify","updataCHIGroup","hyperEdgeBack","selectNode","NodeId","selectGroup","GroupId","selectHyperEdge","hyperArr","delNode","indexOf","addNode","commitScreenCenterQuestionId","UpdateSurveyBack","actions","dataRequestContraints","commit","dispatch","axios","post","question","people","then","response","console","log","catch","error","causalDATARequest","payload","requiredirect","forbiddendirect","f","selectNodeinGraph","some","x","dataRequest","questionIdArr","peopleIndexArr","name2Id","questionName","store","id2Name","questoinId","id2Question","questionId","solve2QuestionCHIbyId","questionIdX","questionIdY","solveAvgQuestionCHIbyId","questionIdList","CHIList","id","sum","forEach","CHIval","findQuestionOptionsbyId","findQuestionOptionsNumbyId","findQuestionOptionIdbyContext","optionContext","id2NameandQuestion","_t","props","component","components","mounted","computed","nameList","methods","$store","d3","delQuestion","$set","edge","indexArr","num","option","option_num","groupid","translateX","indexCol","renderArr","Array","fill","sizeX","sizeAns","noQuestionCol","QuestionCol","watch","edgeList","edgeOption","edgeOptionNum","edgeNum","edgeQuestionId","val","nameOver","nameLeave","nameClick","tooltipTransform","tooltipQuestion","tooltip","tooltipTransformY","nameArr","groupId","hyperEdge","questionid","initSvg","zoomed","graph","attr","svg","drawGraph","drawBarChart","barChart","append","beginY","ansernum","heighConst","updateMatrix","sort","bfs","graphB","nodeidX","nodeidY","DATA","queue","fatherQueueOrder","head","tail","appearBool","nodes","flag","sucess","way","order","temp","allWay","target","source","bfsForAllItem","nodeidList","DATAB","scoreArr","links","link","score","Number","nodeList","requiredirectTarget","firstNode","wayList","nodeId","ans","bfsAns","bfsAnslink","from","Set","findH","nodesName","Visit","hAns","hMap","h","VisitBack","thisNode","minRows","maxRows","finishInput","model","callback","$$v","slot","constrainArr","constrain","parseConstrains","parseAddNodeArr","selectSource","selectTarget","selectSourceBool","col","constraint","DATAB_BACK","lineFlag","inteline","e","preventDefault","marker","zoom","hyperEdge_BACK","asyncBfsAns","bfsForAllItemThis","clickCircle","_m","formatTooltipLine","val0","formatTooltip","uploadData","graphConstraints","littleRectLength","matrixList","matrixTranslate","matrixContent","CardTitle","selectNodeId","CHIid2GroupMap","CHIArr","redraw","pos","selectAll","remove","dataProcessing","drawForceGraphd3","setMatrixPosition","drawInitLine","group","sourceGroupId","itemId","targetGroupId","delItem","formData","event","files","headers","rep","changeGroup","groupdId","groupindex","questionPair","getQuestionPos","matrixId","questionIdinMatrix","drawLine","moveTo","pointList1","bezierCurveTo","dx","pointList2","g","scaleTo","rectLength","Math","max","firstId","secId","color","colList","rect","text","itemStyle","symbolSize","groupIndex","lineStyle","matrix","CardTitile","littleR","bigR","center","littlePadding","bigPadding","CurvePerPeople","radiusPerPeople","peopleOptionList","showNameThreshold","hyperEdgeOption","hyperEdgeOptionNum","curveList","solveCurve","curveNameList","list","optionArr","nameLayer","addPeople","number","optionList","beginCurve","endCurve","circleSvg","dataList","sumPadding","sumPeople","leftCurve","arcList","tempList","beginEndArcList","solvePath","input2","input3","start","end","Matrix","rightClick","line","nodeid","config","productionTip","ElementUI","$echarts","echarts","render","App","$mount"],"mappings":"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","file":"js/app.6542648a.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionNameMatrix.vue?vue&type=style&index=0&id=6b86f1ad&scoped=true&lang=css&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HyperEdgeMatrix.vue?vue&type=style&index=0&id=41ccf680&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Question.vue?vue&type=style&index=0&id=0750a742&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Causal.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardTitle.vue?vue&type=style&index=0&id=7baffee0&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(_vm.fullScreenLoading),expression:\"fullScreenLoading\",modifiers:{\"fullscreen\":true,\"lock\":true}}],attrs:{\"id\":\"app\"}},[_c('div',{attrs:{\"id\":\"tooltip\"}}),(!_vm.fullScreenLoading)?_c('el-card',{staticClass:\"box-card\",attrs:{\"shadow\":\"never\",\"id\":\"question\",\"body-style\":_vm.bodyCardStyle}},[_c('Question')],1):_vm._e(),(!_vm.fullScreenLoading)?_c('el-card',{staticClass:\"box-card\",attrs:{\"shadow\":\"never\",\"id\":\"graph\",\"body-style\":_vm.bodyCardStyle}},[_c('Graph',{attrs:{\"slider-value\":_vm.val1}})],1):_vm._e(),(!_vm.fullScreenLoading)?_c('el-card',{staticClass:\"box-card\",attrs:{\"shadow\":\"never\",\"id\":\"sankey\",\"body-style\":_vm.bodyCardStyle}},[_c('Causal')],1):_vm._e(),(!_vm.fullScreenLoading)?_c('el-card',{staticClass:\"box-card\",attrs:{\"shadow\":\"never\",\"id\":\"matrix\",\"body-style\":_vm.bodyCardStyle}},[_c('Matrix')],1):_vm._e(),(!_vm.fullScreenLoading)?_c('el-card',{staticClass:\"box-card\",attrs:{\"shadow\":\"never\",\"id\":\"arc\",\"body-style\":_vm.bodyCardStyle}},[_c('Arc')],1):_vm._e(),(false)?_c('div',{attrs:{\"id\":\"del\"}},[_c('div',{staticStyle:{\"margin-top\":\"15px\"}},[_c('el-input',{attrs:{\"placeholder\":\"Qid\"},model:{value:(_vm.input2),callback:function ($$v) {_vm.input2=$$v},expression:\"input2\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-remove-outline\"},on:{\"click\":_vm.delNode},slot:\"append\"}),_c('el-button',{attrs:{\"slot\":\"prepend\",\"icon\":\"el-icon-circle-plus-outline\"},on:{\"click\":_vm.addNode},slot:\"prepend\"})],1)],1)]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"100%\"}},[_c('CardTitle',{attrs:{\"name\":\"Question List\"}}),_c('div',{attrs:{\"id\":\"questionView\"}},_vm._l((_vm.question),function(item,index){return _c('div',{key:'question'+index,on:{\"click\":function($event){return _vm.click(index)},\"mousemove\":function($event){return _vm.move($event,index)},\"mouseout\":_vm.leave,\"mouseleave\":_vm.leave}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visibleArr[index]),expression:\"visibleArr[index]\"}],staticClass:\"question\"},[_c('div',{staticClass:\"questionText\"},[_vm._v(_vm._s(item))]),_c('br')])])}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable no-debugger */\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport axios from 'axios';\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {\n    fullScreenLoading: true,\n    CHIGroup: [],\n    NODE: [],\n    Question: [],\n    selectedGroup: -1,\n    selectedNode: 1,\n    url: 'http://49.235.219.243:5000',\n    // url: 'http://10.172.142.37:5000',\n    causeUrl: 'http://10.172.142.37:5001',\n    groupArr: [],\n    size: 20,\n    selectedHyperEdge: [1, 2],\n    peopleNumber: 0,\n    CHI: [],\n    COR: [],\n    demographicCol: '#edf8b1',\n    coreProblemCol: '#00ff33',\n    normalProblemCol: '#50A5FF',\n    problemColArr: ['#edf8b1', '#50A5FF', '#00ff33'],\n    colorArr: ['251,180,174',\n      '204,235,197',\n      '222,203,228',\n      '254,217,166',\n      '255,255,204',\n      '229,216,189',\n      '179,205,227'],\n    questionTypeList: [], // TypeList,\n    questionOption: [],\n    questionOptionNum: [],\n    delNodeList: [],\n    selectedHyperEdgeBack: [],\n    screenCenterQuestionId: 1,\n    nodesConnections: [],\n    questionOptionArr: [],\n    questionOptionNumArr: [],\n    causalDATA: {},\n    causalConstraints: {},\n    causalAddNode: [],\n    peopleIndexConstraints: [],\n    CHIBACK: [],\n    nodesConnectionsBACK: [],\n    causalAll: false,\n  },\n  mutations: {\n    updateCausalAll(state, causalAll) {\n      state.causalAll = causalAll;\n    },\n    updatePeopleIndexConstraints(state, peopleIndexConstraints) {\n      state.peopleIndexConstraints = peopleIndexConstraints;\n    },\n    updateCausalConstraints(state, causalConstraints) {\n      state.causalConstraints = causalConstraints;\n    },\n    updateCausalAddNode(state, causalAddNode) {\n      state.causalAddNode = causalAddNode;\n    },\n    updateCausalDATA(state, causalDATA) {\n      state.causalDATA = causalDATA;\n    },\n    updateLoading(state, loading) {\n      state.fullScreenLoading = loading;\n    },\n    UpdateSurvey(state, surveyResponse) {\n      const {\n        newCHI, newCHIGroup, newNODE, newQuestion,\n        newTypeList, newNodesConnections, newPeopleNumber,\n        newOption, newOptionNum,\n      } = surveyResponse;\n      state.peopleNumber = newPeopleNumber;\n      state.CHIGroup = newCHIGroup;\n      state.NODE = newNODE;\n      state.Question = newQuestion;\n      state.CHI = newCHI;\n      state.questionTypeList = newTypeList;\n      state.groupArr = newCHIGroup.map((arr) => arr.map((data) => data[0]));\n      state.nodesConnections = newNodesConnections;\n      state.questionOptionArr = newOption;\n      state.questionOptionNumArr = newOptionNum;\n      state.CHIGroupBack = JSON.parse(JSON.stringify(newCHIGroup));\n    },\n    updataCHIGroup(state, CHIGroup) {\n      state.CHIGroup = CHIGroup;\n      state.groupArr = CHIGroup.map((arr) => arr.map((data) => data[0]));\n    },\n    hyperEdgeBack(state, selectedHyperEdgeBack) {\n      state.selectedHyperEdgeBack = selectedHyperEdgeBack;\n    },\n    // \n    selectNode(state, NodeId) {\n      state.selectedNode = NodeId;\n    },\n    selectGroup(state, GroupId) {\n      state.selectedGroup = GroupId;\n    },\n    selectHyperEdge(state, hyperArr) { // hyperEdge, questionOption, questionOptionNum) {\n      [state.selectedHyperEdge, state.questionOption, state.questionOptionNum] = hyperArr;\n    },\n    delNode(state, NodeId) {\n    //   let groupId;\n    //   let nodeId;\n    //   state.CHIGroup.forEach((group, index) => {\n    //     group.forEach((nodeCHI, indexCHI) => {\n    //       if (nodeCHI[0] === NodeId) {\n    //         groupId = index;\n    //         nodeId = indexCHI;\n    //       }\n    //     });\n    //   });\n    //   state.delNodeList.push(NodeId);\n    //   state.CHIGroup[groupId].splice(nodeId, 1);\n    //   state.groupArr[groupId].splice(nodeId, 1);\n      state.selectedHyperEdgeBack.splice(state.selectedHyperEdgeBack.indexOf(NodeId), 1);\n      state.selectedHyperEdge = state.selectedHyperEdgeBack;\n    },\n    addNode(state, NodeId) {\n      state.selectedHyperEdge.push(NodeId);\n    },\n    commitScreenCenterQuestionId(state, screenCenterQuestionId) {\n      state.screenCenterQuestionId = screenCenterQuestionId;\n    },\n    UpdateSurveyBack(state, surveyResponse) {\n      const {\n        newCHI, newNodesConnections, newPeopleNumber,\n        newOption, newOptionNum,\n      } = surveyResponse;\n      state.peopleNumber = newPeopleNumber;\n      // state.CHIGroup = newCHIGroup;\n      // state.NODE = newNODE;\n      // state.Question = newQuestion;\n      state.CHIBACK = newCHI;\n      // state.questionTypeList = newTypeList;\n      // state.groupArr = newCHIGroup.map((arr) => arr.map((data) => data[0]));\n      state.nodesConnectionsBACK = newNodesConnections;\n      state.questionOptionArr = newOption;\n      state.questionOptionNumArr = newOptionNum;\n      // state.CHIGroupBack = JSON.parse(JSON.stringify(newCHIGroup));\n    },\n  },\n  actions: {\n    dataRequestContraints({ commit, state, dispatch }, peopleIndexConstraints) {\n      const { url } = state;\n      commit('updatePeopleIndexConstraints', peopleIndexConstraints);\n      axios.post(`${url}/survey`, {\n        question: [],\n        people: peopleIndexConstraints,\n      })\n        .then((response) => {\n          dispatch('causalDATARequest').then(() => {\n            commit('UpdateSurveyBack', response.data);\n            console.log('finish constraints request');\n          });\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n    causalDATARequest({ commit, state }, payload = { requiredirect: [], forbiddendirect: [] }) {\n      const { url } = state;\n      const { requiredirect, forbiddendirect } = payload;\n      console.log({\n        r: requiredirect,\n        f: forbiddendirect,\n      });\n      axios.post(`${url}/cause`, {\n        r: requiredirect,\n        f: forbiddendirect,\n      })\n        .then((response) => {\n          console.log(response.data, 'causalRequest');\n          commit('updateCausalDATA', response.data);\n          commit('updateLoading', false); // surveydata\n        })\n        .catch((error) => console.error(error));\n    },\n    selectNodeinGraph({ commit, state }, NodeId) {\n      commit('selectNode', NodeId);\n      for (let i = 0; i < state.CHIGroup.length; i += 1) {\n        if (state.CHIGroup[i].some((x) => x[0] === NodeId)) {\n          commit('selectGroup', i);\n        }\n      }\n    },\n    dataRequest({ commit, state, dispatch }, questionIdArr = [], peopleIndexArr = []) {\n      const { url } = state;\n      axios.post(`${url}/survey`, {\n        question: questionIdArr,\n        people: peopleIndexArr,\n      })\n        .then((response) => {\n          dispatch('causalDATARequest').then(() => {\n            commit('UpdateSurvey', response.data);\n            console.log('finish request');\n          });\n        })\n        .catch((error) => {\n          console.error(error);\n        });\n    },\n  },\n});\n","/* eslint-disable import/prefer-default-export */\n// import { NODE } from '../data/CHIGroup';\n// import { CHI } from '../data/CHICOR';\n// import { questionOptionArr, questionOptionNumArr } from '../data/Survey';\n// import { TypeList } from '../data/Demographic';\n// import { Question } from '../data/Question';\nimport store from '../store/index';\n\nexport function name2Id(questionName) {\n  return store.state.NODE.indexOf(questionName);\n}\nexport function id2Name(questoinId) {\n  return store.state.NODE[questoinId];\n}\n\n// eslint-disable-next-line no-unused-vars\nexport function id2Type(questoinId) {\n  return 1;\n  // return store.state.TypeList[questoinId];\n}\n\nexport function id2Question(questionId) {\n  return store.state.Question[id2Name(questionId)];\n}\n\nexport function solve2QuestionCHIbyId(questionIdX, questionIdY) {\n  return store.state.CHI[questionIdX][questionIdY];\n}\n\nexport function solve2QuestionCHIbyName(questoinNameX, questionNameY) {\n  return solve2QuestionCHIbyId(name2Id(questoinNameX), name2Id(questionNameY));\n}\n\nexport function solveAvgQuestionCHIbyId(questionId, questionIdList) {\n  const CHIList = questionIdList.map((id) => solve2QuestionCHIbyId(questionId, id));\n  let sum = 0;\n  CHIList.forEach((CHIval) => {\n    sum += CHIval;\n  });\n  return sum / questionIdList.length;\n}\n\nexport function findQuestionOptionsbyId(questionId) {\n  return store.state.questionOptionArr[questionId];\n}\n\nexport function findQuestionOptionsNumbyId(questionId) {\n  return store.state.questionOptionNumArr[questionId];\n}\n\nexport function findQuestionOptionIdbyContext(optionContext, questionId) {\n  console.log('****', optionContext, questionId, store.state.questionOptionArr[questionId], store.state.questionOptionArr[questionId].indexOf(optionContext));\n  // eslint-disable-next-line no-debugger\n  return store.state.questionOptionArr[questionId].indexOf(optionContext);\n}\n\nexport function id2NameandQuestion(questionId) {\n  return `${id2Name(questionId)}:${id2Question(questionId)}`;\n}\n\nexport function cutString(string, length = [25, 28]) {\n  if (string.length < length[1]) { return { str: string, length: string.length }; }\n  const sArr = string.split(' ');\n  let ans = '';\n  // eslint-disable-next-line guard-for-in\n  for (let i = 0; i < sArr.length; i += 1) {\n    ans += sArr[i];\n    if (ans.length > length[0] && ans.length < length[1]) return { str: `${ans}...`, length: ans.length + 3 };\n    ans += ' ';\n  }\n  return { str: `${string.slice(0, length[1])}...`, length: length[1] + 3 };\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-card',{staticClass:\"titleBackground\",attrs:{\"body-style\":\"padding-top:0%;padding-left:0%;display: flex;\",\"shadow\":\"never\"}},[_c('div',{staticClass:\"titleName\"},[_vm._v(_vm._s(_vm.name))]),_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <el-card class=\"titleBackground\" body-style=\n    \"padding-top:0%;padding-left:0%;display: flex;\" shadow=\"never\">\n  <!-- <div class=\"titleBackground\"> -->\n      <div class=\"titleName\">{{name}}</div>\n      <slot ></slot>\n  <!-- </div> -->\n    </el-card>\n</template>\n\n<script>\nexport default {\n  name: 'cardTitle',\n  props: [\n    'name',\n  ],\n};\n</script>\n\n<style scoped>\n.titleBackground{\n    background-color: rgb(236, 236, 236);\n    border-radius: .3em .3em 0 0;\n    padding-top: 0em;\n    height: 1.5em;\n    z-index: 99;\n    position:relative;\n}\n\n.titleName{\n    padding-left: .5em;\n    padding-top: .4em;\n    padding-bottom: .3em;\n    font-family: sans-serif;\n    font-size: .8em;\n    font-weight:bolder;\n    flex: auto;\n}\n\nslot{\n    flex:2;\n    align-self: flex-end;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardTitle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardTitle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CardTitle.vue?vue&type=template&id=7baffee0&scoped=true&\"\nimport script from \"./CardTitle.vue?vue&type=script&lang=js&\"\nexport * from \"./CardTitle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CardTitle.vue?vue&type=style&index=0&id=7baffee0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7baffee0\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<div style=\"height:100%\">\n    <CardTitle name='Question List'/>\n    <div id='questionView'>\n        <div\n        v-for=\"(item,index) in question\" :key=\"'question'+index\"\n        @click=\"click(index)\" @mousemove=\"move($event,index)\" @mouseout=\"leave\" @mouseleave=\"leave\">\n          <div class='question' v-show=\"visibleArr[index]\">\n                      <div class='questionText'>{{item}}</div>\n                      <!-- <i class=\"el-icon-delete\" @click.stop=\"delQuestion(index)\"/> -->\n          <br/>\n          </div>\n        </div>\n    </div>\n</div>\n</template>\n\n<script>\nimport * as d3 from 'd3';\nimport * as util from '../util/util';\nimport CardTitle from './utilComponents/CardTitle.vue';\n\nexport default {\n  name: 'question',\n  components: { CardTitle },\n  data: () => ({\n    visibleArr: new Array(100).fill(true),\n    questionType: ['categorical', 'categorical', 'categorical', 'numeric', 'numeric', 'categorical', 'categorical', 'categorical', 'numeric', 'numeric', 'numeric', 'numeric', 'numeric', 'numeric', 'numeric', 'numeric', 'numeric'],\n    mean: [0, 0, 0, 0.65, 5.60, 0, 0, 0, 0.41, 0.54, 0.63, 0.55, 0.39, 0.56, 0.60, 0.39, 1.03],\n    var: [0, 0, 0, 0.36, 8.06, 0, 0, 0, 0.24, 0.24, 0.61, 0.24, 0.23, 0.24, 0.23, 0.24, 0.56],\n  }),\n  mounted() {\n  },\n  computed: {\n    question() {\n      const nameList = Object.keys(this.$store.state.Question);\n      return nameList.map((x) => `${x}:${this.$store.state.Question[x]}`);\n    },\n  },\n  methods: {\n    click(index) {\n      this.$store.dispatch('selectNodeinGraph', util.name2Id(`Q${index}`));\n      this.$store.commit('commitScreenCenterQuestionId', util.name2Id(`Q${index}`));\n    },\n    move(e, index) {\n      d3.select('#tooltip')\n        .style('left', `${e.clientX + 10}px`)\n        .style('top', `${e.clientY + 10}px`)\n        .style('z-index', 20)\n        .style('display', 'inline')\n        .text(`type:${this.questionType[index]}\\u3000 \\u3000 mean:${(this.mean[index] === 0) ? 'null' : this.mean[index]} var:${(this.var[index] === 0) ? 'null' : this.var[index]} multiple-choice`);\n    },\n    leave() {\n      d3.select('#tooltip')\n        .style('display', 'none');\n    },\n    delQuestion(index) {\n      console.log('clickdel');\n      this.$set(this.visibleArr, index, false);\n    },\n  },\n};\n</script>\n\n<style scoped>\n\ni{\n  z-index: 9;\n  position: absolute;\n  right:20px;\n}\n\ni:hover{\n\n  border-radius:25px;\n  background-color:rgb(200 ,200,200);\n}\n\n.question{\n  position: relative;\n  cursor: pointer;\nwidth:100%;\nborder-bottom: 1px dashed #ccc;\n}\n\n.question::after{\n  content: 111;\n}\n\n.question:hover{\nborder-radius:25px;\n  background-color:rgb(224, 224, 224);\n}\n\n.questionText{\n  padding-left: 2%;\n  padding-right: 2%;\n  padding-top: 2%;\n}\n\n#questionView{\n    width: 100%;\n    height: 90%;\n    overflow-y: scroll;\n}\n#questionView::-webkit-scrollbar {\n        display: none;\n    }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Question.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Question.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Question.vue?vue&type=template&id=0750a742&scoped=true&\"\nimport script from \"./Question.vue?vue&type=script&lang=js&\"\nexport * from \"./Question.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Question.vue?vue&type=style&index=0&id=0750a742&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0750a742\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('CardTitle',{attrs:{\"name\":\"Hyperedge\"}}),_c('svg',{attrs:{\"id\":\"matrix_svg\"}},[_c('g',{attrs:{\"transform\":\"translate(0,150)\"}},[_c('g',{attrs:{\"transform\":\"translate(50 0)\"}},_vm._l((_vm.hyperEdge),function(edge,index){return _c('HyperEdgeMatrix',{key:'edge'+index,attrs:{\"index-col\":index,\"size\":_vm.size,\"edge-list\":edge.indexArr,\"length\":_vm.length,\"edge-question-id\":edge.question,\"edge-num\":edge.num,\"edge-option\":edge.option,\"edge-option-num\":edge.option_num}})}),1),_c('g',[_c('QuestionNameMatrix',{attrs:{\"group-id\":_vm.groupid}})],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',{attrs:{\"id\":\"hyper\",\"transform\":'translate('+this.translateX+' 0)'}},_vm._l((_vm.renderArr),function(item,index){return _c('rect',{key:'hype'+index+'/'+_vm.indexCol+'/'+item,attrs:{\"transform\":'translate(0 ' + index*_vm.size+')',\"width\":_vm.size,\"height\":_vm.size,\"fill\":item},on:{\"click\":function($event){return _vm.selectHyperEdge(_vm.indexCol,index)}}})}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <g id=\"hyper\" :transform=\"'translate('+this.translateX+' 0)'\">\n        <!-- <rect\n            v-for=\"(item,index) in renderArr\"\n            :key=\"'hype'+index+'/'+indexCol+'/'+item\"\n            :transform=\"'translate(0 ' + index*size+')'\"\n            :width=\"size\"\n            :height=\"size\"\n            :class=\"'noQuestion'\"\n            /> -->\n        <rect\n            v-for=\"(item,index) in renderArr\"\n            :key=\"'hype'+index+'/'+indexCol+'/'+item\"\n            :transform=\"'translate(0 ' + index*size+')'\"\n            :width=\"size\"\n            :height=\"size\"\n         :fill=\"item\"\n            @click=\"selectHyperEdge(indexCol,index)\"\n        />\n\n    </g>\n</template>\n\n<script>\nimport Vue from 'vue';\nimport * as d3 from 'd3';\nimport * as util from '../../util/util';\n\nexport default {\n  name: 'hyper-edge-matrix',\n  props: [\n    'left',\n    'top',\n    'size',\n    'edgeList',\n    'indexCol',\n    'length',\n    'edgeQuestionId',\n    'edgeNum',\n    'edgeOption',\n    'edgeOptionNum',\n  ],\n  data() {\n    return {\n      groupid: this.$store.state.selectedGroup,\n      translateX: this.indexCol * this.size,\n      renderArr: new Array(this.length).fill(0),\n      sizeX: d3.scaleLinear()\n        .range([0.5, 1])\n        .domain([this.$store.state.peopleNumber / 2, (this.$store.state.peopleNumber * 2) / 3]),\n      sizeAns: 0,\n      noQuestionCol: d3.interpolate(d3.rgb(240, 240, 240), d3.rgb(200, 200, 200)),\n      QuestionCol: d3.interpolate('rgb(204,220,255)', '#00A5FF'),\n      // QuestionCol: d3.interpolate(d3.rgb('#77AAAA'), d3.rgb('#99CCCC')),\n    };\n  },\n  watch: {\n    edgeList(val) {\n      console.log('hyperedge', this.edgeOption, this.edgeOptionNum, this.edgeNum, this.edgeQuestionId);\n      this.groupid = this.$store.state.selectedGroup;\n      this.renderArr = new Array(this.length);\n      const { CHIGroup } = this.$store.state;\n      for (let i = 0; i < this.renderArr.length; i += 1) {\n        const id = CHIGroup[this.groupid][i][0];\n        this.renderArr[i] = this.noQuestionCol(util.solveAvgQuestionCHIbyId(id, this.edgeList));\n      }\n      val.forEach((indexEdgeId) => {\n        // console.log('hyperedge',)\n        // console.log('modmodmod', ((indexEdgeId * 9301 + 49297) % 233280) / 233280);\n        Vue.set(this.renderArr, indexEdgeId,\n          this.QuestionCol(Math.random()));\n      });\n    },\n  },\n  mounted() {\n    // console.log('renderArr', this.edgeList);\n    this.sizeAns = this.sizeX(this.edgeNum);\n    this.renderArr = new Array(this.length);\n    const { CHIGroup } = this.$store.state;\n    for (let i = 0; i < this.renderArr.length; i += 1) {\n      const id = CHIGroup[this.groupid][i][0];\n      this.renderArr[i] = this.noQuestionCol(util.solveAvgQuestionCHIbyId(id, this.edgeList));\n    }\n    this.edgeList.forEach((indexEdgeId) => {\n      Vue.set(this.renderArr, indexEdgeId,\n        this.QuestionCol(Math.random()));// '#50A5FF');\n    });\n  },\n  methods: {\n    selectHyperEdge() {\n      console.log('edgeOption', this.edgeOption, this.edgeOptionNum);\n      this.$store.commit('selectHyperEdge', [this.edgeQuestionId.map((x) => x), this.edgeOption, this.edgeOptionNum]);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.yesQuestion {\n    fill: #99ccff;\n    stroke-width: 0.5;\n    stroke: #555;\n}\n.yesQuestion:hover {\n    fill: rgba(173, 224, 255);\n}\n.noQuestion {\n    fill: #fff;\n    stroke-width: 0.5;\n    stroke: #555;\n}\n.noQuestion:hover {\n    fill: rgba(200, 200, 200, 0.5);\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HyperEdgeMatrix.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HyperEdgeMatrix.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HyperEdgeMatrix.vue?vue&type=template&id=41ccf680&scoped=true&\"\nimport script from \"./HyperEdgeMatrix.vue?vue&type=script&lang=js&\"\nexport * from \"./HyperEdgeMatrix.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HyperEdgeMatrix.vue?vue&type=style&index=0&id=41ccf680&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41ccf680\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',[_vm._l((_vm.nameArr),function(item,index){return _c('text',{key:index,attrs:{\"transform\":'translate(5 '+(index+0.9)*_vm.size+')'},on:{\"mouseover\":function($event){return _vm.nameOver(index,item)},\"mouseleave\":_vm.nameLeave,\"click\":function($event){return _vm.nameClick(item)}}},[_vm._v(_vm._s(item))])}),(this.tooltip)?_c('text',{staticClass:\"t\",attrs:{\"transform\":_vm.tooltipTransform}},[_vm._v(_vm._s(_vm.tooltipQuestion))]):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <g>\n        <text\n            :transform=\"'translate(5 '+(index+0.9)*size+')'\"\n            v-for=\"(item,index) in nameArr\"\n            :key=\"index\"\n            @mouseover=\"nameOver(index,item)\"\n            @mouseleave=\"nameLeave\"\n            @click=\"nameClick(item)\"\n        >{{item}}</text>\n        <text class=\"t\" v-if=\"this.tooltip\" :transform=\"tooltipTransform\">{{tooltipQuestion}}</text>\n    </g>\n</template>\n\n<script>\nimport * as util from '../../util/util';\n\nexport default {\n  props: ['groupId'],\n  data() {\n    return {\n      tooltip: false,\n      tooltipQuestion: '',\n      tooltipTransformY: 0,\n    };\n  },\n  computed: {\n    tooltipTransform() {\n      return `translate(50  ${this.tooltipTransformY})`;\n    },\n    nameArr() {\n    //   console.log('groupId', this.groupId, this.$store.state);\n      if (this.groupId === -1) return [];\n      const { state } = this.$store;\n      //   console.log(\n      //     state.groupArr[this.groupId].map(\n      //       (x) => state.Question[state.NODE[x]],\n      //     ),\n      //   );\n      //   return state.groupArr[this.groupId].map(\n      //     (x) => state.Question[state.NODE[x]],\n      //   );\n      return state.groupArr[this.groupId].map((x) => state.NODE[x]);\n    },\n    colorArr() {\n      return this.nameArr.map((name) => {\n        // eslint-disable-next-line no-unused-vars\n        const id = util.name2Id(name);\n        // return this.$store.state.problemColArr[this.$store.state.questionTypeList[id]];\n        return '#000000';\n      });\n    },\n    size() {\n      return this.$store.state.size;\n    },\n  },\n  mounted() {},\n  methods: {\n    nameOver(index, item) {\n    //   console.log(index);\n      this.tooltipTransformY = index * this.size + 20;\n      this.tooltipQuestion = this.$store.state.Question[item];\n      this.tooltip = true;\n    },\n    nameLeave() {\n      this.tooltip = false;\n    },\n    nameClick(item) {\n      this.$store.dispatch('selectNodeinGraph', util.name2Id(item));\n    },\n  },\n};\n</script>\n\n<style scoped>\n.t {\n    background-color: aliceblue;\n}\n\ntext{\n  font-family: sans-serif;\n  font-size: 20px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionNameMatrix.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionNameMatrix.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QuestionNameMatrix.vue?vue&type=template&id=6b86f1ad&scoped=true&\"\nimport script from \"./QuestionNameMatrix.vue?vue&type=script&lang=js&\"\nexport * from \"./QuestionNameMatrix.vue?vue&type=script&lang=js&\"\nimport style0 from \"./QuestionNameMatrix.vue?vue&type=style&index=0&id=6b86f1ad&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6b86f1ad\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div>\n      <CardTitle name=\"Hyperedge\"/>\n        <svg id=\"matrix_svg\">\n            <g transform=\"translate(0,150)\">\n                <g transform=\"translate(50 0)\">\n                    <HyperEdgeMatrix\n                        v-for=\"(edge,index) in hyperEdge\"\n                        :key=\"'edge'+index\"\n                        :index-col=\"index\"\n                        :size=\"size\"\n                        :edge-list=\"edge.indexArr\"\n                        :length=\"length\"\n                        :edge-question-id=\"edge.question\"\n                        :edge-num=\"edge.num\"\n                        :edge-option=\"edge.option\"\n                        :edge-option-num=\"edge.option_num\"\n                    />\n                </g>\n                <g>\n                    <QuestionNameMatrix :group-id=\"groupid\" />\n                </g>\n\n            </g>\n        </svg>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport * as d3 from 'd3';\nimport HyperEdgeMatrix from './MatrixComponents/HyperEdgeMatrix.vue';\nimport QuestionNameMatrix from './MatrixComponents/QuestionNameMatrix.vue';\nimport CardTitle from './utilComponents/CardTitle.vue';\n\nexport default {\n  name: 'matrix',\n  data() {\n    return {\n      hyperEdge: [],\n      size: 20,\n      length: 0,\n    };\n  },\n  computed: {\n    groupid() {\n      return this.$store.state.selectedGroup;\n    },\n    questionid() {\n      return this.$store.state.selectedNode;\n    },\n    peopleNumber() {\n      return this.$store.state.peopleNumber;\n    },\n  },\n  methods: {\n    initSvg() {\n      const svg = d3.select('#matrix_svg')\n        .append('svg')\n        .attr('width', '100%')\n        .attr('height', '100%');\n      const graph = svg.append('g')\n        .attr('transform', 'translate(50,0)');\n\n      function zoomed({ transform }) {\n        graph.attr('transform', `translate(${transform.x},${transform.y})scale(${transform.k})`);\n      }\n      svg.call(d3.zoom()\n        .scaleExtent([0.1, 10])\n        .on('zoom', zoomed));\n      this.drawGraph = graph;\n    },\n\n    drawBarChart() {\n      d3.select('#barChart').remove();\n      //   console.log('!!!!!!!!!!!', this.hyperEdge);\n      const barChart = d3.select('#matrix_svg')\n        .append('g')\n        .attr('id', 'barChart')\n        .attr('transform', 'translate(50,0)');\n      this.hyperEdge.forEach((edge, index) => {\n        const beginX = index * this.size;\n        let beginY = 150;\n        const heighConst = this.$store.state.peopleNumber / 100;\n        this.hyperEdge[index].option_num.forEach((ansernum, indexOption) => {\n          barChart.append('rect')\n            .attr('x', beginX)\n            .attr('y', beginY - ansernum / heighConst)\n            .attr('width', this.size)\n            .attr('height', ansernum / heighConst)\n            .attr('fill', `rgb(${this.$store.state.colorArr[indexOption]}`);\n          beginY -= ansernum / heighConst;\n        });\n      });\n    },\n    updateMatrix(groupid) {\n      const val = groupid;\n      const URL = this.$store.state.url;\n      this.length = this.$store.state.groupArr[val].length;\n      axios\n        .post(`${URL}/group`, {\n          question: this.$store.state.groupArr[val],\n          people: this.$store.state.peopleIndexConstraints,\n        })\n        .then((response) => {\n          console.log(this.$store.state.groupArr[val], response.data);\n          const hyperEdge = response.data;\n          //   console.log('hyperEdge', hyperEdge);\n          for (let i = 0; i < hyperEdge.length; i += 1) {\n            hyperEdge[i].indexArr = hyperEdge[i].question.map(\n              (x) => this.$store.state.groupArr[val].indexOf(x),\n              1,\n            );\n          }\n          this.hyperEdge = hyperEdge;\n          this.hyperEdge.sort((a, b) => (\n            b.question.indexOf(this.$store.state.selectedNode)\n               - a.question.indexOf(this.$store.state.selectedNode)));\n\n          this.drawBarChart();\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    },\n  },\n  mounted() {\n  },\n  components: { HyperEdgeMatrix, QuestionNameMatrix, CardTitle },\n  watch: {\n    groupid(val) {\n      this.updateMatrix(val);\n    },\n    questionid(val) {\n      this.hyperEdge.sort((a, b) => (\n        b.question.indexOf(val)\n               - a.question.indexOf(val)));\n      this.drawBarChart();\n    },\n    peopleNumber() {\n      this.updateMatrix(this.groupid);\n    },\n  },\n};\n</script>\n\n<style scoped>\n#matrix_svg {\n    height: 100%;\n    width: 100%;\n}\ndiv {\n    height: 100%;\n    width: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Matrix.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Matrix.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Matrix.vue?vue&type=template&id=0893dc74&scoped=true&\"\nimport script from \"./Matrix.vue?vue&type=script&lang=js&\"\nexport * from \"./Matrix.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Matrix.vue?vue&type=style&index=0&id=0893dc74&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0893dc74\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"100%\"}},[_c('CardTitle',{attrs:{\"name\":\"Causal\"}},[_c('CausalConsstraints')],1),_c('svg',{attrs:{\"id\":\"causalSvg\"}},[_c('g',{attrs:{\"id\":\"causalGroup\"}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable no-debugger */\n// eslint-disable-next-line import/prefer-default-export\n\n// let questionOption = [];\n// let questionOptionNum = [];\n// DATA.data.forEach((peopleAnswer) => {\n//   peopleAnswer.forEach((answer, index) => {\n//     if (questionOption.length <= index) {\n//       questionOption.push([]);\n//       questionOptionNum.push([]);\n//     }\n//     const pos = questionOption[index].indexOf(answer);\n//     if (pos === -1) {\n//       questionOption[index].push(answer);\n//       questionOptionNum[index].push(1);\n//     } else {\n//       questionOptionNum[index][pos] += 1;\n//     }\n//   });\n// });\n\n// eslint-disable-next-line max-len\n// const questionOptionAndNum = questionOption.map((question, qIndex) => question.map((answer, aIndex) => ({ option: answer, num: questionOptionNum[qIndex][aIndex] })));\n\n// questionOptionAndNum.forEach((x) => x.sort((a, b) => (b.num - a.num)));\n// questionOption = questionOptionAndNum.map((x) => x.map((y) => y.option));\n// questionOptionNum = questionOptionAndNum.map((x) => x.map((y) => y.num));\n\nexport function bfs(graphB, nodeidX, nodeidY, DATA) {\n  // debugger;\n  console.log(nodeidX, nodeidY);\n  const queue = [nodeidX];\n  const fatherQueueOrder = [0];\n  let head = 0;\n  let tail = 0;\n  const appearBool = new Array(DATA.nodes.length).fill(false);\n  let flag = false;\n  while (head <= tail) {\n    const item = queue[head];\n    for (let i = 0; i < DATA.nodes.length; i += 1) {\n      if (graphB[item][i] !== 0 && !appearBool[i]) {\n        tail += 1;\n        queue[tail] = i;\n        fatherQueueOrder[tail] = head;\n        appearBool[i] = true;\n        if (queue[tail] === nodeidY) {\n          flag = true;\n          break;\n        }\n      }\n    }\n    if (flag) break;\n    head += 1;\n  }\n  if (!flag) return { sucess: flag, way: [] };\n  const order = [tail];\n  let temp = tail;\n  let nodes = [];\n  while (temp !== 0) {\n    temp = fatherQueueOrder[temp];\n    order.push(temp);\n  }\n  const way = order.map((x) => {\n    nodes.push(queue[x]);\n    return queue[x];\n  });\n  nodes = nodes.map((x) => ({ name: x }));\n  const allWay = [];\n  for (let i = 0; i < way.length - 1; i += 1) {\n    if (graphB[way[i]][way[i + 1]] === 1) {\n      allWay.push({\n        target: way[i + 1],\n        source: way[i],\n      });\n    } else {\n      allWay.push({\n        target: way[i],\n        source: way[i + 1],\n      });\n    }\n  }\n  return {\n    sucess: flag,\n    way: allWay,\n    nodes,\n  };\n}\n\n// eslint-disable-next-line no-unused-vars\nexport function bfsForAllItem(nodeidList, DATAB, requiredirect = []) {\n  const graph = [];\n  const scoreArr = [];\n  for (let i = 0; i < DATAB.nodes.length; i += 1) {\n    graph.push(new Array(DATAB.nodes.length).fill(0));\n    scoreArr.push(new Array(DATAB.nodes.length).fill(0));\n  }\n\n  DATAB.links.forEach((link) => {\n    const { source, target, score } = link;\n    // source = DATAB.nodes.indexOf(source);\n    // target = DATAB.nodes.indexOf(target);\n    graph[source][target] = 1;\n    graph[target][source] = -1;\n    scoreArr[source][target] = Number(score);\n  });\n\n  const nodeList = [];\n  const requiredirectTarget = requiredirect.map((x) => Number(x[1]));\n  nodeidList.forEach((x) => { if (requiredirectTarget.indexOf(x) === -1) nodeList.push(x); });\n  console.log(nodeidList, nodeList, requiredirectTarget, 'nodeidlist');\n  const firstNode = nodeList.shift();\n  const wayList = nodeList.map((nodeId) => bfs(graph, firstNode, nodeId, DATAB));\n  console.log('!!!!!!!!!!!!!!!!', wayList);\n  const ans = { way: [], nodes: [] };\n  requiredirect.forEach((edge) => {\n    ans.nodes.push({ name: Number(edge[0]) });\n    ans.nodes.push({ name: Number(edge[1]) });\n    ans.way.push({\n      source: Number(edge[0]),\n      target: Number(edge[1]),\n      score: scoreArr[edge[0]][edge[1]],\n    });\n  });\n  // eslint-disable-next-line no-unused-vars\n  wayList.forEach((bfsAns, index) => {\n    if (bfsAns.sucess) {\n      ans.nodes = [...ans.nodes, ...bfsAns.nodes];\n      bfsAns.way.forEach((bfsAnslink) => {\n        if (!ans.way.some((link) => link.source === bfsAnslink.source\n          && link.target === bfsAnslink.target)) {\n          const { source, target } = bfsAnslink;\n          ans.way.push({ source, target, score: scoreArr[source][target] });\n        }\n      });\n    }// else ans.nodes.push(nodeList[index]);\n  });\n  ans.nodes = Array.from(new Set(ans.nodes.map((x) => x.name))).map((x) => ({ name: x }));\n  console.log('bfs for All', ans);\n  return ans;\n}\n\nexport function findH(bfsAns) {\n  const { way, nodes } = bfsAns;\n  const nodesName = nodes.map((x) => x.name);\n  const Visit = new Array(200).fill(false);\n  let flag = true;\n  const hAns = [];\n  const hMap = {};\n  while (flag) {\n    flag = false;\n    const h = [];\n    const VisitBack = [];\n    for (let i = 0; i < nodesName.length; i += 1) {\n      const thisNode = nodesName[i];\n      if (!way.some((x) => x.source === thisNode && !Visit[x.target]) && !Visit[thisNode]) {\n        h.push(thisNode);\n        console.log('thisNode', thisNode);\n        VisitBack.push(thisNode);\n        flag = true;\n      }\n    }\n    VisitBack.forEach((x) => { Visit[x] = true; });\n    hAns.push(h);\n  }\n  for (let h = 0; h < hAns.length; h += 1) hAns[h].forEach((id) => { hMap[id] = h; });\n  return { hAns, hMap };\n}\n// export const questionOptionArr = questionOption;\n// export const questionOptionNumArr = questionOptionNum;\n// console.log(questionOptionArr, questionOptionNumArr, 'option');\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-popover',{staticStyle:{\"padding-left\":\"0px\"},attrs:{\"trigger\":\"click\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 5, maxRows: 10}},on:{\"blur\":_vm.finishInput},model:{value:(_vm.causalConstraints),callback:function ($$v) {_vm.causalConstraints=$$v},expression:\"causalConstraints\"}}),_c('button',{attrs:{\"slot\":\"reference\",\"icon\":\"el-icon-edit\"},slot:\"reference\"},[_vm._v(\"Constraints\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-popover\n          trigger=\"click\"\n          style=\"padding-left:0px\">\n          <el-input\n            type=\"textarea\"\n            v-model=\"causalConstraints\"\n            :autosize=\"{ minRows: 5, maxRows: 10}\"\n            @blur=\"finishInput\">\n          </el-input>\n          <button slot=\"reference\" icon=\"el-icon-edit\">Constraints</button>\n    </el-popover>\n</template>\n\n<script>\nexport default {\n  name: 'causalConstraints',\n  data() {\n    return {\n      causalConstraints: '',\n    };\n  },\n  methods: {\n    finishInput() {\n      // if (this.causalConstraints === 'all') this.commit('updateCausalAll', true);\n      // else this.commit('updateCausalAll', false);\n      const constrainArr = this.causalConstraints.split(/\\r?\\n/);\n      console.log(constrainArr);\n      const parseAddNodeArr = [];\n      const parseConstrains = { requiredirect: [], forbiddendirect: [] };\n      constrainArr.forEach((constrain) => {\n        const r = constrain.split('-->');\n        const f = constrain.split('!->');\n        console.log(constrain, 'cons');\n        if (r.length > 1) {\n          parseConstrains.requiredirect.push([r[0], r[1]]);\n          parseAddNodeArr.push(Number(r[0]));\n          parseAddNodeArr.push(Number(r[1]));\n        } else if (f.length > 1) {\n          parseConstrains.forbiddendirect.push([f[0], f[1]]);\n          parseAddNodeArr.push(Number(f[0]));\n          parseAddNodeArr.push(Number(f[1]));\n        } else if (constrain !== '') parseAddNodeArr.push(Number(constrain));\n      });\n      console.log('constrainsNew', parseConstrains);\n      this.$store.commit('updateCausalConstraints', parseConstrains);\n      this.$store.commit('updateCausalAddNode', Array.from(new Set(parseAddNodeArr)));\n    },\n  },\n};\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CausalConstraints.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CausalConstraints.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CausalConstraints.vue?vue&type=template&id=2190bce0&\"\nimport script from \"./CausalConstraints.vue?vue&type=script&lang=js&\"\nexport * from \"./CausalConstraints.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable no-self-assign */\n<template>\n<div style=\"height:100%\">\n    <CardTitle name='Causal'>\n        <CausalConsstraints/>\n    </CardTitle>\n    <svg id='causalSvg'>\n        <g id='causalGroup'/>\n    </svg>\n</div>\n</template>\n\n<script>\n/* eslint-disable no-debugger */\nimport * as d3 from 'd3';\nimport axios from 'axios';\nimport * as d3color from 'd3-color';\nimport CardTitle from './utilComponents/CardTitle.vue';\nimport * as util from '../util/util';\nimport {\n  bfsForAllItem, findH,\n} from '../data/Survey';\nimport CausalConsstraints from './CausalComponent/CausalConstraints.vue';\n\nexport default {\n  name: 'causal',\n  components: { CardTitle, CausalConsstraints },\n  data() {\n    return {\n      selectSource: '',\n      selectTarget: '',\n      selectSourceBool: true,\n      col: this.$store.state.problemColArr,\n      questionTypeList: this.$store.state.questionTypeList,\n      constraint: [],\n      DATAB: this.$store.state.causalDATA,\n      DATAB_BACK: this.$store.state.causalDATA,\n      lineFlag: false,\n    };\n  },\n  mounted() {\n    this.DATAB = this.$store.state.causalDATA;\n    this.DATAB_BACK = this.$store.state.causalDATA;\n    const graph = d3.select('#causalGroup');\n\n    const svg = d3.select('#causalSvg');\n    this.inteline = svg.append('line')\n      .attr('id', 'causalinteline')\n      .attr('stroke', 'black')\n      .style('fill', 'none')\n      .style('stroke-width', '3px')\n      .attr('marker-end', 'url(#arrow)')\n      .style('display', 'none');\n    svg.on('mousemove', (e) => {\n      d3.select('#causalinteline').attr('x2', e.offsetX)\n        .attr('y2', e.offsetY - 50);\n    });\n    svg.on('contextmenu', (e) => {\n      e.preventDefault();\n      console.log('right', e);\n      if (this.lineFlag) {\n        d3.select('#causalinteline').attr('x1', e.offsetX)\n          .attr('y1', e.offsetY - 50)\n          .style('display', 'inline');\n        this.lineFlag = !this.lineFlag;\n      } else {\n        d3.select('#causalinteline').style('display', 'none');\n        this.lineFlag = !this.lineFlag;\n      }\n    });\n    this.marker = svg.append('marker')\n      .attr('id', 'arrow')\n      .attr('markerUnits', 'strokeWidth')// strokeWidth\n      .attr('viewBox', '0 0 12 12')// \n      .attr('refX', 6)// \n      .attr('refY', 6)\n      .attr('markerWidth', 12)\n      .attr('markerHeight', 12)\n      .attr('orient', 'auto')// auto \n      .append('path')\n      .attr('d', 'M2,2 L10,6 L2,10 L6,6 L2,2')// \n      .attr('fill', '#000');// \n    function zoomed({ transform }) {\n      graph.attr('transform', `translate(${transform.x},${transform.y})scale(${transform.k})`);\n    }\n    this.zoom = d3.zoom()\n      .scaleExtent([0.1, 10])\n      .on('zoom', zoomed);\n    svg.call(this.zoom);\n  },\n  computed: {\n    hyperEdge() {\n      return Array.from(new Set([...this.$store.state.selectedHyperEdge,\n        ...this.$store.state.causalAddNode]));\n    },\n    bfsAns() {\n      console.log('bfsAns change');\n      //   console.log(bfs(hyperEdge[0], hyperEdge[1]));\n      //   return bfs(hyperEdge[0], hyperEdge[1]);\n      console.log(this.hyperEdge, 'hyperEdgeNodes');\n      // return bfsForAllItem([8, 16, 9, 11], // this.hyperEdge,\n      return bfsForAllItem(this.hyperEdge,\n        this.$store.state.causalDATA, this.causalConstraints.requiredirect || []);\n    },\n    causeUrl() {\n      return this.$store.state.causeUrl;\n    },\n    causalConstraints() {\n      return this.$store.state.causalConstraints;\n    },\n    causalAddNode() {\n      return this.$store.state.causalAddNode;\n    },\n  },\n  watch: {\n    hyperEdge() {\n      this.DATAB_BACK = this.DATAB;// DATA;\n      this.hyperEdge_BACK = this.hyperEdge;\n    },\n    bfsAns(val) {\n      // this.DATAB = DATA;\n      this.asyncBfsAns(val);\n    },\n    causalConstraints(val) {\n      console.log('cConstschange');\n      this.$store.dispatch('causalDATARequest', val);\n    },\n  },\n  methods: {\n    bfsForAllItemThis(hyperEdge) {\n      return bfsForAllItem(hyperEdge, this.DATAB);\n    },\n    clickCircle(NodeId) {\n      console.log('click');\n      if (this.selectSourceBool) {\n        this.selectSource = NodeId; this.selectSourceBool = false;\n        console.log('select', NodeId);\n      } else {\n        this.selectTarget = NodeId;\n        this.constraint.push([`${this.selectSource}`, `${this.selectTarget}`]);\n        console.log('bfsans', this.bfsAns);\n        // this.bfsAns.way.push({ target: this.selectTarget, source: this.selectSource });\n        // eslint-disable-next-line no-self-assign\n        // this.bfsAns = this.bfsAns;\n        axios.post(`${this.causeUrl}/cause`, { r: this.constraint, node: this.bfsAns.nodes.map((x) => x.name) })\n          .then((response) => {\n            const { data } = response;\n            this.DATAB_BACK = data;\n            this.hyperEdge_BACK = this.bfsAns.nodes.map((x) => x.name);\n            this.DATAB = data;\n            // this.asyncBfsAns(data);\n            axios.post(`${this.causeUrl}/restart`);\n          });\n\n        this.selectSourceBool = true;\n      }\n    },\n    async asyncBfsAns(vv) {\n      let val = 1;\n      val = vv;\n      // val = {\n      //   nodes: [{ name: 25 }, { name: 15 }],\n      //   way: [{ source: 25, target: 15 }],\n      // };\n      // val.way = [{ target: 60, source: 25 }, { target: 60, source: 5 }];\n      const { hAns, hMap } = findH(val);// Ans,Map\n      // console.log('hhh', hAns, hMap, val);\n      const hSum = [];\n      this.$store.commit('hyperEdgeBack', hSum);\n      hAns.forEach((hlist) => hlist.forEach((h) => hSum.push(h)));\n      let hPos = [];\n      const xLongestArr = new Array(100).fill(0);\n\n      hSum.forEach((x) => { xLongestArr[hMap[x]] += 1; });\n      // const xLongest = Math.max(...xLongestArr);\n      // console.log('xlongest', xLongest);\n      // const midPos = (xLongest * 200) / 2;\n      const midPos = 100;\n\n      hPos = hSum.map((id) => {\n        const dis2midPos = (hAns[hMap[id]].indexOf(id) - (xLongestArr[hMap[id]] - 1) / 2) * 200;\n        // console.log(dis2midPos);\n        return {\n          x: midPos + dis2midPos,\n          y: hMap[id] * 150,\n        };\n      });\n      const hChildren = {};\n      hSum.forEach((x) => { hChildren[x] = []; });\n      val.way.forEach((link) => {\n        const { target, source } = link;\n        hChildren[target].push(source);\n      });\n\n      //   console.log('RAND2', RAndCoeffientMapforNode);\n      d3.select('#causalGroup').selectAll('*').remove();\n      const vis = d3.select('#causalGroup');// .attr('transform', 'translate(100, 100)');\n\n      this.zoom.translateTo(d3.select('#causalSvg'), 100, 100);\n      this.zoom.scaleTo(d3.select('#causalSvg'), 1.5);\n      val.way.forEach((link) => {\n        let { target, source } = link;\n        target = hSum.indexOf(target);\n        source = hSum.indexOf(source);\n        // console.log(target, RAndCoeffientMapforNode, 'need');\n        // const childId = RAndCoeffientMapforNode[target].children.indexOf(source);\n        // const coefficient = RAndCoeffientMapforNode[target].coefficient[childId];\n        // vis.append('text')\n        //   .text(coefficient)\n        //   .attr('x', (hPos[source].x + hPos[target].x) / 2)\n        //   .attr('y', (hPos[source].y + hPos[target].y) / 2);\n        const path = d3.path();\n        path.moveTo(hPos[source].x, hPos[source].y - 30);\n        const dy = (hPos[source].y + hPos[target].y) / 2;\n        path.bezierCurveTo(hPos[source].x, dy, hPos[target].x,\n          dy, hPos[target].x, hPos[target].y + 30);\n\n        vis.append('path')\n          .attr('d', path.toString())\n          .attr('stroke', 'black')\n          .style('fill', 'none')\n          .style('stroke-width', `${3 * link.score}px`)\n          // .style('stroke-dasharray', '5 5')\n          .attr('id', `L${source}V${target}`)\n          .attr('marker-end', 'url(#arrow)');\n      });\n\n      hPos.forEach((x, index) => {\n        const that = this;\n        // vis.append('circle')\n        //   .attr('r', 10)\n        //   .attr('cx', x.x)\n        //   .attr('cy', x.y)\n        // //   .attr('fill', (this.hyperEdge.includes(hSum[index])) ? '#50A5FF' : '#aaa')\n        //   .attr('fill', this.col[this.questionTypeList[hSum[index]]])\n        //   // .on('mouseover',()=>{console.log('over');})\n        //   .on('click', () => { that.clickCircle(hSum[index]); });\n        // console.log('hPos', hSum, index, hPos);\n        const text = util.id2NameandQuestion(hSum[index]);// (`${DATA.nodes[hSum[index]]}:\n        // ${DATA.question[`${DATA.nodes[hSum[index]]}`]}`);\n        const color = d3color.color(this.col[this.questionTypeList[hSum[index]]]);\n        color.opacity = 0.5;\n        // const textStr = text.str;\n        // vis.append('foreignObject')\n        //   .attr('id', `Q${hSum[index]}`)\n        //   .attr('x', x.x - 75)\n        //   .attr('y', x.y - 25)\n        //   .attr('width', 150)\n        //   .attr('height', 150)\n        //   .append('xhtml:div')\n        //   .attr('xmlns', 'http://www.w3.org/1999/xhtml')\n        //   .text(`${text}`)\n        //   .attr('class', 'longtext')\n        //   .attr('style', `background-color:${`${color}`}`)\n        //   .on('click', () => { that.clickCircle(hSum[index]); });\n        console.log(that, text);\n        const data = JSON.parse(JSON.stringify(\n          this.$store.state.questionOptionNumArr[hSum[index]],\n        ));\n        const arcs = d3.pie()(data);\n        console.log(arcs);\n        const Arccolor = ['#f7fbff', '#deebf7', '#c6dbef', '#9ecae1', '#6baed6', '#4292c6', '#2171b5', '#08519c', '#08306b'];\n        const arcGenerators = d3.arc().innerRadius(0).outerRadius(20);\n        arcs.forEach((arcPath, arcIndex) => {\n          vis.append('path')\n            .attr('d', arcGenerators(arcPath))\n            .style('fill', Arccolor[8 - arcIndex])\n            .attr('transform', `translate(${x.x}, ${x.y})`)\n            .on('mousemove', (d) => {\n              d3.select('#tooltip')\n                .style('left', `${d.clientX + 10}px`)\n                .style('top', `${d.clientY + 10}px`)\n                .style('z-index', 20)\n                .style('display', 'inline')\n                .text(text);\n            })\n            .on('mouseleave', () => {\n              d3.select('#tooltip')\n                .style('display', 'none');\n            })\n            .on('click', () => {\n              this.$store.dispatch('selectNodeinGraph', hSum[index]);\n            });\n        });\n        // vis.append('path')\n        //   .attr('d', d3.arc()({\n        //     innerRadius: 0,\n        //     outerRadius: 20,\n        //     startAngle: 0,\n        //     endAngle: Math.PI * 2,\n        //   }))\n        //   .style('fill', 'green')\n        //   .attr('transform', `translate(${x.x}, ${x.y})`)\n        //   .on('mousemove', (d) => {\n        //     console.log(111111);\n        //     d3.select('#tooltip')\n        //       .style('left', `${d.clientX + 10}px`)\n        //       .style('top', `${d.clientY + 10}px`)\n        //       .style('z-index', 20)\n        //       .style('display', 'inline')\n        //       .text(text);\n        //   })\n        //   .on('mouseleave', () => {\n        //     d3.select('#tooltip')\n        //       .style('display', 'none');\n        //   });\n        vis.append('text')\n          .attr('transform', `translate(${x.x - 50}, ${x.y + 5})`)\n          .text(`Q${hSum[index]}`);\n\n        // .attr('class', 'longtext');\n        // . attr('style', 'writing-mode: tb;');\n      });\n      const RAndCoeffientMapforNode = {};\n      await Object.keys(hChildren).forEach(async (node) => {\n        const children = hChildren[node];\n        if (children.length !== 0) {\n          const ans = await axios\n            .post(`${this.$store.state.url}/linear`, {\n              // t: util.id2Name(node),\n              // s: children.map((x) => util.id2Name(x)),\n              t: Number(node),\n              s: children,\n            });\n          // console.log(ans);\n          if (!ans.data.success) return;\n          RAndCoeffientMapforNode[node] = {\n            R: ans.data.R,\n            coefficient: ans.data.coefficient,\n            children,\n          };\n        }\n        let RBack = -1;\n        // let xBack = 0;\n        // let yBack = 0;\n        let indexBack = 0;\n        children.forEach((childrenId, index) => {\n          const idinHPosCHild = hSum.indexOf(childrenId);\n          const idinHPosNode = hSum.indexOf(Number.parseInt(node, 10));\n          // console.log('children', hPos, hChildren, idinHPosCHild, idinHPosNode, hSum);\n          vis.insert('text', 'foreignObject')\n            .text(RAndCoeffientMapforNode[node].coefficient[index].toFixed(3))\n            .attr('x', (hPos[idinHPosCHild].x + hPos[idinHPosNode].x) / 2 + 10)\n            .attr('y', (hPos[idinHPosCHild].y + hPos[idinHPosNode].y) / 2);\n          // console.log('ineedthis!!!!', `#L${idinHPosNode}V${idinHPosCHild}`);\n          // d3.select(`#L${idinHPosCHild}V${idinHPosNode}`)\n\n          // .style('stroke-width',\n          // `${1 + 5 * Math.abs(RAndCoeffientMapforNode[node].coefficient[index])}px`);\n\n          RBack = RAndCoeffientMapforNode[node].R;\n          // xBack = hPos[idinHPosNode].x;\n          // yBack = hPos[idinHPosNode].y;\n          indexBack = idinHPosNode;\n        });\n        if (RBack !== -1) {\n          // vis.append('text', 'foreignObject')\n          //   .text(RBack.toFixed(3))\n          //   .attr('x', xBack + 70)\n          //   .attr('y', yBack);\n          const text = util.id2NameandQuestion(hSum[indexBack]);\n          // (`${DATA.nodes[hSum[indexBack]]}:${DATA.question[`${DATA.nodes[hSum[indexBack]]}`]}`);\n          // const textStr = text.str;\n          const x = hPos[indexBack];\n          d3.select(`#Q${hSum[indexBack]}`).remove();\n          const color = d3color.color(this.col[this.questionTypeList[hSum[indexBack]]]);\n          color.opacity = (Math.abs(RBack)) * 20 + 0.4;\n          // vis.append('foreignObject')\n          //   .attr('x', x.x - 75)\n          //   .attr('y', x.y - 25)\n          //   .attr('width', 150)\n          //   .attr('height', 150)\n          //   .append('xhtml:div')\n          //   .attr('xmlns', 'http://www.w3.org/1999/xhtml')\n          //   .text(`${text}`)\n          //   .attr('class', 'longtext')\n          //   .attr('style', `background-color:${`${color}`}`)\n          //   .on('click', () => { this.clickCircle(hSum[indexBack]); });\n          console.log(text);\n          console.log('Rback', RBack);\n          // RBack = 0.51;\n          vis.append('path')\n            .attr('d', d3.arc()({\n              innerRadius: 25,\n              outerRadius: 30,\n              startAngle: 0,\n              endAngle: Math.PI * 2 * RBack,\n            }))\n            .style('fill', '#DBAAAD')\n            .attr('transform', `translate(${x.x}, ${x.y})`)\n            .on('mousemove', (e) => {\n              d3.select('#tooltip')\n                .style('left', `${e.clientX + 10}px`)\n                .style('top', `${e.clientY + 10}px`)\n                .style('z-index', 20)\n                .style('display', 'inline')\n                .text(`fit score: ${RBack.toFixed(2)}`);\n            })\n            .on('mouseleave', () => {\n              d3.select('#tooltip').style('display', 'none');\n            });\n        }\n\n        // console.log('RAND1', d3.arc()({\n        //   innerRadius: 80,\n        //   outerRadius: 100,\n        //   startAngle: 0,\n        //   endAngle: Math.PI / 2,\n        // }));\n      });\n    },\n  },\n};\n</script>\n\n<style>\n#causalSvg{\n  padding-top: 3em;\n    height: 90%;\n    width: 100%;\n}\n\n.longtext{\n/* text-overflow:ellipsis; */\noverflow: hidden;\nborder-radius:10px;\npadding-left: 10px;\npadding-right: 10px;\nbackground-color: aqua;\ncolor: black;\n        text-align: center;\n/* white-space: nowrap; */\nheight: 38px;\n}\n\n.longtext:hover{\n  min-height: 39px;\nheight:auto;\nborder-radius:10px;\npadding-left: 10px;\npadding-right: 10px;\nbackground-color: aqua;\ncolor: black;\n        text-align: center;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Causal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Causal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Causal.vue?vue&type=template&id=63177115&\"\nimport script from \"./Causal.vue?vue&type=script&lang=js&\"\nexport * from \"./Causal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Causal.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"100%\"}},[_vm._m(0),_c('div',{staticClass:\"sliderLineLine\"},[_c('el-slider',{attrs:{\"format-tooltip\":_vm.formatTooltipLine,\"step\":10},model:{value:(_vm.val0),callback:function ($$v) {_vm.val0=$$v},expression:\"val0\"}})],1),_c('div',{staticClass:\"sliderLine\"},[_c('el-slider',{attrs:{\"format-tooltip\":_vm.formatTooltip,\"step\":10},model:{value:(_vm.val1),callback:function ($$v) {_vm.val1=$$v},expression:\"val1\"}})],1),_c('CardTitle',{attrs:{\"name\":\"Hypergraph\"}},[_c('div',{staticStyle:{\"flex\":\"auto\"}},[_c('input',{attrs:{\"type\":\"file\",\"value\":\"\",\"id\":\"file\"},on:{\"change\":_vm.uploadData}}),_c('el-popover',{staticStyle:{\"padding-left\":\"0px\"},attrs:{\"trigger\":\"click\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 5, maxRows: 10}},on:{\"blur\":_vm.finishInput},model:{value:(_vm.graphConstraints),callback:function ($$v) {_vm.graphConstraints=$$v},expression:\"graphConstraints\"}}),_c('button',{attrs:{\"slot\":\"reference\",\"icon\":\"el-icon-edit\"},slot:\"reference\"},[_vm._v(\"Constraints\")])],1)],1)]),_c('div',{attrs:{\"id\":\"forceGraph\"}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sliderHint\"},[_c('p',[_vm._v(\" line \"),_c('br'),_vm._v(\" support \")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div style=\"height:100%;\">\n    <div class=\"sliderHint\">\n      <p>\n         line\n        <br/>\n        support\n      </p>\n    </div>\n    <div class=\"sliderLineLine\" >\n        <el-slider v-model=\"val0\" :format-tooltip=\"formatTooltipLine\" :step=\"10\"></el-slider>\n      </div>\n          <div class=\"sliderLine\" >\n        <el-slider v-model=\"val1\" :format-tooltip=\"formatTooltip\" :step=\"10\"></el-slider>\n      </div>\n    <CardTitle name='Hypergraph'>\n        <div style=\"flex:auto\">\n          <input type=\"file\" value=\"\" id=\"file\" @change=\"uploadData\"/>\n          <el-popover\n          trigger=\"click\"\n          style=\"padding-left:0px\">\n          <el-input\n            type=\"textarea\"\n            v-model=\"graphConstraints\"\n            :autosize=\"{ minRows: 5, maxRows: 10}\"\n            @blur=\"finishInput\">\n          </el-input>\n          <button slot=\"reference\" icon=\"el-icon-edit\">Constraints</button>\n    </el-popover>\n        </div>\n    </CardTitle>\n    <div id=\"forceGraph\"></div>\n  </div>\n</template>\n\n<script>\nimport * as d3 from 'd3';\nimport axios from 'axios';\nimport * as util from '../util/util';\nimport CardTitle from './utilComponents/CardTitle.vue';\n// import solveForceMapCoordinate from '../util/forcegraph';\n\nexport default {\n  name: 'graph',\n  data() {\n    return {\n      val0: 30,\n      val1: 70,\n      links: [],\n      nodes: [],\n      littleRectLength: 25,\n      drawGraph: null,\n      matrixList: [],\n      matrixTranslate: [[800, 500], [300, 200], [1100, -0],\n        [1650, 850], [400, 700], [1400, 1200]],\n      matrixContent: [],\n      graphConstraints: '',\n      lineFlag: false,\n    };\n  },\n  components: {\n    CardTitle,\n  },\n  computed: {\n    CHIBACK() {\n      return this.$store.state.CHIBACK;\n    },\n    selectNodeId() {\n      return this.$store.state.selectedNode;\n    },\n    screenCenterQuestionId() {\n      return this.$store.state.screenCenterQuestionId;\n    },\n    CHIid2GroupMap() {\n      const { groupArr } = this.$store.state;\n      const ans = new Array(this.$store.state.CHI.length).fill(0);\n      groupArr.forEach((group, index) => { group.forEach((id) => { ans[id] = index; }); });\n      return ans;\n    },\n    CHIArr() {\n      const ans = [];\n      const { CHI } = this.$store.state;\n      // const linkb = [32, 32, 32, 40, 38, 53, 59, 63, 63, 2, 10, 53, 49, 43];\n      // const linke = [65, 41, 37, 41, 16, 20, 16, 29, 23, 51, 50, 43, 12, 6];\n      for (let i = 0; i < CHI.length; i += 1) {\n        for (let j = i + 1; j < CHI.length; j += 1) {\n          if (CHI[i][j] > 0.8 && (this.CHIid2GroupMap[i] !== this.CHIid2GroupMap[j])) {\n            const posListI = this.getQuestionPos(i);\n            const posListJ = this.getQuestionPos(j);\n            let ansI;\n            let ansJ;\n            let ansMax = 999999;\n            posListI.forEach((posI, indexI) => {\n              posListJ.forEach((posJ, indexJ) => {\n                if (ansMax > (posI[0] - posJ[0]) ** 2 + (posI[1] - posJ[1]) ** 2) {\n                  ansI = indexI;\n                  ansJ = indexJ;\n                  ansMax = (posI[0] - posJ[0]) ** 2 + (posI[1] - posJ[1]) ** 2;\n                }\n              });\n            });\n            // eslint-disable-next-line no-continue\n            console.log('ansMax', ansMax, 500000 * this.val0);\n            if (ansMax < 5000 * this.val0) { ans.push([posListI[ansI], posListJ[ansJ]]); }\n          }\n        }\n      }\n      // for (let i = 0; i < linkb.length; i += 1) {\n      //   const posListI = this.getQuestionPos(linkb[i]);\n      //   const posListJ = this.getQuestionPos(linke[i]);\n      //   let ansI;\n      //   let ansJ;\n      //   let ansMax = 999999;\n      //   posListI.forEach((posI, indexI) => {\n      //     posListJ.forEach((posJ, indexJ) => {\n      //       if (ansMax > (posI[0] - posJ[0]) ** 2 + (posI[1] - posJ[1]) ** 2) {\n      //         ansI = indexI;\n      //         ansJ = indexJ;\n      //         ansMax = (posI[0] - posJ[0]) ** 2 + (posI[1] - posJ[1]) ** 2;\n      //       }\n      //     });\n      //   });\n      //   // eslint-disable-next-line no-continue\n      //   console.log('ansMax', ansMax);\n      //   if (ansMax < 205000) { ans.push([posListI[ansI], posListJ[ansJ]]); }\n      // }\n      return ans;\n    },\n  },\n  watch: {\n    CHIBACK() {\n      this.redraw();\n    },\n    screenCenterQuestionId(val) {\n      const pos = this.getQuestionPos(val)[1];\n      console.log('pos', pos);\n      this.zoom\n        .scaleTo(this.svg, 1);\n      // this.graph.attr('transform', 'scale(1)');\n      this.zoom\n        .translateTo(this.svg, pos[0], pos[1] + 50);\n      // .scaleTo(this.svg, 1);\n    },\n    selectNodeId(val) {\n      const pos = this.getQuestionPos(val);\n      const graph = d3.select('#GraphCircle');\n      graph.selectAll('*').remove();\n      graph.append('circle')\n        .attr('cx', pos[1][0])\n        .attr('cy', pos[1][1] + 10)\n        .attr('fill', 'black')\n        .attr('stroke', 'black')\n        .attr('r', 2);\n      // graph.append('circle')\n      //   .attr('cx', pos[0][0] - 10)\n      //   .attr('cy', pos[0][1])\n      //   .attr('fill', 'black')\n      //   .attr('stroke', 'black')\n      //   .attr('r', 2);\n    },\n    val1() {\n      this.redraw();\n    },\n    val0() {\n      this.redraw();\n    },\n  },\n  mounted() {\n    // solveForceMapCoordinate();\n    this.initSvg();\n    this.dataProcessing();\n    this.drawForceGraphd3();\n    this.setMatrixPosition();\n    this.drawGraph.append('g')\n      .attr('id', 'lineGraph');\n    // console.log(this.$store.state.CHIGroup);\n    // this.$store.dispatch('selectNodeinGraph', 4);\n    this.drawGraph.append('g').attr('id', 'GraphCircle');\n    this.drawInitLine();\n  },\n  methods: {\n    formatTooltipLine(val) {\n      return `threshold of showing line: ${(val / 100).toFixed(1)}`;\n    },\n    formatTooltip(val) {\n      return `threshold of support: ${(1 - val / 100).toFixed(1)}`;\n    },\n    finishInput() {\n      const constrainArr = this.graphConstraints.split(/\\r?\\n/);\n      const { groupArr } = this.$store.state;\n      const { CHIGroup } = this.$store.state;\n      constrainArr.forEach((constrain) => {\n        const r = constrain.split('-->');\n        const source = Number(r[0]);\n        const target = Number(r[1]);\n        let sourceGroupId;\n        let targetGroupId;\n        let itemId;\n        groupArr.forEach((group, index) => {\n          console.log('group', group, groupArr);\n          if (group.indexOf(source) !== -1) {\n            sourceGroupId = index;\n            itemId = group.indexOf(source);\n          }\n          if (group.indexOf(target) !== -1) {\n            targetGroupId = index;\n          }\n        });\n        const [delItem] = CHIGroup[sourceGroupId].splice(itemId, 1);\n        CHIGroup[targetGroupId].push(delItem);\n        console.log(sourceGroupId, targetGroupId);\n      });\n      console.log(CHIGroup, 'CHIGroup', this.$store.state.CHIGroup);\n      this.$store.commit('updataCHIGroup', CHIGroup);\n      this.redraw();\n    },\n    redraw() {\n      this.matrixList = [];\n      this.matrixContent = [];\n      this.initSvg();\n      this.dataProcessing();\n      this.drawForceGraphd3();\n      this.setMatrixPosition();\n      this.drawGraph.append('g')\n        .attr('id', 'lineGraph');\n      this.drawGraph.append('g').attr('id', 'GraphCircle');\n      this.drawInitLine();\n    },\n    uploadData(event) {\n      const formData = new FormData();\n      formData.append('file', event.target.files[0]);\n      const url = `${this.$store.state.url}/datainput`;\n      console.log('input', url);\n      const config = {\n        headers: { 'Content-Type': 'multipart/form-data' },\n      };\n      // this.$store.commit('updateLoading', true);\n      axios.post(url, formData, config).then((rep) => {\n        // this.$store.commit('updateLoading', false);\n        console.log(rep);\n      });\n      this.loading = true;\n    },\n    changeGroup(questionName, groupindex) {\n      const questionId = util.name2Id(questionName);\n      let { groupArr } = this.$store.state;\n      const { CHIGroup } = this.$store.state;\n      let groupdId; let itemId;\n      groupArr.forEach((group, index) => {\n        console.log('group', group, groupArr);\n        if (group.indexOf(questionId) !== -1) {\n          groupdId = index;\n          itemId = group.indexOf(questionId);\n        }\n      });\n      const delItem = CHIGroup[groupdId].splice(itemId, 1);\n      CHIGroup[groupindex].push(delItem);\n      groupArr = CHIGroup.map((arr) => arr.map((data) => data[0]));\n      this.initSvg();\n      // this.dataProcessing();\n      // this.drawForceGraphd3();\n      // this.setMatrixPosition();\n      // this.drawGraph.append('g')\n      //   .attr('id', 'lineGraph');\n      // // console.log(this.$store.state.CHIGroup);\n      // // this.$store.dispatch('selectNodeinGraph', 4);\n      // this.drawGraph.append('g').attr('id', 'GraphCircle');\n      // this.drawInitLine();\n    },\n    drawInitLine() {\n      d3.select('#lineGraph')\n        .selectAll('*')\n        .remove();\n\n      // let questionPos = ['Q4', 'Q40', 'Q41', 'Q69', 'Q70', 'Q67', 'Q6', 'Q38',\n      //   'Q32', 'Q33', 'Q2', 'Q18', 'Q15'];\n      // let questionPos=['Q16']\n      // questionPos = questionPos.map((x) => this.getQuestionPos(util.name2Id(x)));\n      // console.log(questionPos);\n      // const questionPair = [[0, 1, 1, 3], [2, 2, 5, 0], [1, 2, 6, 0],\n      //   [6, 2, 4, 0], [5, 2, 9, 0], [8, 1, 7, 3], [11, 3, 12, 1]];\n      const questionPair = this.CHIArr;\n      questionPair.forEach((x) => this.drawLine(x[0], x[1]));\n    },\n    getQuestionPos(questionId) {\n      let matrixId = 0;\n      let questionIdinMatrix = 0;\n      for (let i = 0; i < this.matrixContent.length; i += 1) {\n        for (let j = 0; j < this.matrixContent[i].length; j += 1) {\n          if (this.matrixContent[i][j][0] === questionId) {\n            matrixId = i;\n            questionIdinMatrix = j;\n          }\n        }\n      }\n      const [posX, posY] = this.matrixTranslate[matrixId];\n      const dd = this.littleRectLength / 2;\n      // posY += this.littleRectLength / 2;\n      //   posY += 0;\n      const delta = questionIdinMatrix * this.littleRectLength;\n      const all = this.matrixContent[matrixId].length * this.littleRectLength;\n      const pos = [[posX - dd * 2, posY + all - delta - dd],\n        [posX + delta + dd, posY + all + dd * 2],\n        [posX + all + dd * 3, posY + delta + dd],\n        [delta + posX + dd, posY - dd * 2]];\n      return pos;\n    },\n    drawLine(pointList1, pointList2) {\n      // const g = this.drawGraph.append('g')\n      //   .attr('id', 'lineGraph');\n      // eslint-disable-next-line no-debugger\n      // debugger;\n      const dx = (pointList1[0] + pointList2[0]) / 2;\n      const g = d3.select('#lineGraph');\n      const link = d3.path();\n      link.moveTo(pointList1[0], pointList1[1]);\n      link.bezierCurveTo(dx, pointList1[1], dx, pointList2[1], pointList2[0], pointList2[1]);\n      g.append('path')\n        .attr('d', link.toString())\n        .attr('stroke', 'black')\n        .style('fill', 'none')\n        .style('stroke-width', '1')\n        .style('stroke-dasharray', '5 5');\n      // .attr('x1', pointList1[0])\n      // .attr('y1', pointList1[1])\n      // .attr('x2', pointList2[0])\n      // .attr('y2', pointList2[1])\n      // .attr('stroke', 'red');\n    },\n    initSvg() {\n      d3.select('#forceGraph').selectAll('*').remove();\n      const svg = d3.select('#forceGraph')\n        .append('svg')\n        .attr('width', '100%')\n        .attr('height', '100%')\n        .attr('transform', 'rotate(-45)');\n      this.inteline = svg.append('line')\n        .attr('id', 'inteline')\n        .attr('stroke', 'black')\n        .style('fill', 'none')\n        .style('stroke-width', '3px')\n        .attr('marker-end', 'url(#arrow)')\n        .style('display', 'none');\n      svg.on('mousemove', (e) => {\n        d3.select('#inteline').attr('x2', e.offsetX)\n          .attr('y2', e.offsetY);\n      });\n      svg.on('contextmenu', (e) => {\n        e.preventDefault();\n        console.log('right', e);\n        if (this.lineFlag) {\n          d3.select('#inteline').attr('x1', e.offsetX)\n            .attr('y1', e.offsetY)\n            .style('display', 'inline');\n          this.lineFlag = !this.lineFlag;\n        } else {\n          d3.select('#inteline').style('display', 'none');\n          this.lineFlag = !this.lineFlag;\n        }\n      });\n      const graph = svg.append('g')\n        .attr('transform', 'translate(50,0)');\n      this.graph = graph;\n      this.svg = svg;\n      this.zoomed = function zoomed({ transform }) {\n        graph.attr('transform', `translate(${transform.x},${transform.y})scale(${transform.k})`);\n      };\n      this.zoom = d3.zoom()\n        .scaleExtent([0.1, 10])\n        .on('zoom', this.zoomed);\n      svg.call(this.zoom);\n      this.drawGraph = graph;\n      this.zoom\n        .translateTo(this.svg, -1200, -1400);\n      this.zoom.scaleTo(this.svg, 0.47);\n    },\n    drawForceGraphd3() {\n      const { drawGraph } = this;\n      const { demographicCol, coreProblemCol, questionTypeList } = this.$store.state;\n\n      const rectLength = d3.scaleLinear().range([0, this.littleRectLength]).domain([0.05, 0]);\n      const nColor = d3.scaleLinear()\n        .range(['white', 'rgb(224,240,255)', '#00A5FF', '#0099FF']).domain([0, 2, 35, 40]);\n      // const nColor = d3.scaleLinear().range(['rgb(255,255,255)', '#000']).domain([0, 3]);\n      const demoColor = d3.scaleLinear().range(['white', demographicCol]).domain([this.$store.state.peopleNumber / 2, (this.$store.state.peopleNumber * 2) / 3]);\n      const coreColor = d3.scaleLinear().range(['white', coreProblemCol]).domain([this.$store.state.peopleNumber / 2, (this.$store.state.peopleNumber * 2) / 3]);\n      const colList = [demoColor, nColor, coreColor];\n      const { CHIGroup } = this.$store.state;\n      CHIGroup.forEach((group, index) => {\n        if (group.length <= 1) return;\n        this.matrixContent.push(group);\n        // if (index === 4) return;\n        const nameList = group.map((x) => this.NODE[x[0]]);\n        // nameList = nameList.map((x) => ((x.length < 3) ? `${x}&nbsp&nbsp` : x));\n        const axisX = d3.scaleBand()\n          .range([0, nameList.length * this.littleRectLength])\n          .domain(nameList);\n        const axisY = d3.scaleBand()\n          .range([nameList.length * this.littleRectLength, 0])\n          .domain(nameList);\n        const graph = drawGraph.append('g');\n        graph.attr('id', `${index}graph`);\n        this.matrixList.push({ index, graph });\n        // console.log('I need', this.matrixList);\n        graph.append('g')\n          .classed('axisLeft', true)\n          .call(d3.axisLeft(axisY));\n        graph.append('g')\n          .classed('axisBottom', true)\n          .attr('transform', `translate(0,${nameList.length * this.littleRectLength})`)\n          .call(d3.axisBottom(axisX));\n        graph.append('g')\n          .classed('axisTop', true)\n          .call(d3.axisTop(axisX));\n        graph.append('g')\n          .classed('axisRight', true)\n          .attr('transform', `translate(${nameList.length * this.littleRectLength},0)`)\n          .call(d3.axisRight(axisY));\n        const rect = graph.append('g');\n\n        console.log('before blue loop', group);\n        for (let i = 0; i < group.length; i += 1) {\n          for (let j = 0; j < group.length; j += 1) {\n            const firstId = group[i][0];\n            const secId = group[j][0];\n            let size;\n            let color;\n            let num = 0;\n            if (i < j || this.CHIBACK.length === 0) {\n              num = this.$store.state.nodesConnections[Math.min(\n                firstId, secId,\n              )][Math.max(firstId, secId)];\n              size = rectLength(this.$store.state.CHI[firstId][secId]);\n            } else if (i > j) {\n              num = this.$store.state.nodesConnectionsBACK[Math.min(\n                firstId, secId,\n              )][Math.max(firstId, secId)] * 8;\n              // if (i === 16) {\n              //   size = Math.max(0,\n              //     rectLength(this.$store.state.CHIBACK[firstId][secId] / 20));\n              // } else\n\n              size = Math.max(0, rectLength(this.$store.state.CHIBACK[firstId][secId] / 15));\n            }\n            if (firstId === secId) size = 0;\n            if ((firstId === 16 && secId === 10) || (firstId === 10 && secId === 16)) num = 2.76;\n            if ((firstId === 16 && secId === 15) || (firstId === 15 && secId === 16)) num = 7.61;\n            num **= (this.val1 / 40);\n            color = (colList[questionTypeList[firstId]])(num);\n            color = colList[1](num);\n            // rect.append('rect')\n            //   .attr('x', axisX(this.NODE[firstId]) + 2)\n            //   .attr('y', axisY(this.NODE[secId]))\n            //   .attr('width', this.littleRectLength)\n            //   .attr('height', this.littleRectLength)\n            //   .style('fill', d3.rgb(230, 230, 220));\n            rect.append('rect')\n              .attr('x', axisX(this.NODE[firstId]) + (this.littleRectLength - size) / 2 + 2)\n              .attr('y', axisY(this.NODE[secId]) + (this.littleRectLength - size) / 2)\n              .attr('width', size)\n              .attr('height', size)\n              .style('fill', color)\n              .on('click', () => {\n                this.$store.dispatch('selectNodeinGraph', group[i][0]);\n              });\n          }\n        }\n      });\n      this.text = d3.selectAll('.tick>text');\n      // eslint-disable-next-line func-names\n      // const that = this;\n      this.text\n      // .on('mousedown', (d, i, g) => {\n      //   that.selectedTick = this;\n      //   // this.attr('color', 'red');\n      //   that.svg.on('.zoom', null);\n      //   // that.svg.call(that.zoomTick);\n      //   console.log('tick11111', d, i, g, this);\n      //   that.selectedQuestion = i;\n      // })\n        .on('mouseup', () => {\n          this.svg.call(this.zoom);\n        })\n        .on('mousemove', (d, name) => {\n          d3.select('#tooltip')\n            .style('left', `${d.clientX + 10}px`)\n            .style('top', `${d.clientY + 10}px`)\n            .style('z-index', 20)\n            .style('display', 'inline')\n            .text(util.id2Question(util.name2Id(name)));\n        })\n        .on('mouseleave', () => {\n          d3.select('#tooltip')\n            .style('display', 'none');\n        });\n      console.log('tick!!!!!!!!!!!!!', this.text);\n    },\n    dataProcessing() {\n      const data = this.$store.state;\n      const { NODE, CHIGroup } = data;\n      this.CHIGroup = CHIGroup;\n      this.NODE = NODE;\n      const links = [];\n      const nodes = [];\n      NODE.forEach((question) => {\n        // console.log(question);\n        nodes.push({\n          name: question,\n          value: 1000,\n          itemStyle: {\n            color: '#99CCFF',\n          },\n          symbolSize: 50,\n        });\n      });\n      //   console.log(nodes);\n      CHIGroup.forEach((group) => {\n        for (\n          let groupIndex = 0;\n          groupIndex < group.length - 1;\n          groupIndex += 1\n        ) {\n          links.push({\n            source: group[groupIndex][0],\n            target: group[groupIndex + 1][0],\n            value: 10,\n            lineStyle: {\n              color: '#000',\n            },\n          });\n        }\n        links.push({\n          source: group[group.length - 1][0],\n          target: group[0][0],\n          value: 10,\n          lineStyle: {\n            color: '#000',\n          },\n        });\n      });\n      this.nodes = nodes;\n      this.links = links;\n    },\n    setMatrixPosition() {\n      const link = [[1, 2], [3, 4]];\n      const { matrixTranslate } = this;\n      console.log(link, matrixTranslate, this.matrixList, 'matrixTranslate');\n      this.matrixList.forEach((matrix, index) => {\n        matrix.graph.attr('transform', `translate(${matrixTranslate[index][0]},${matrixTranslate[index][1]})`)\n          .on('mouseup', () => {\n            console.log(index, 'up');\n            this.svg.call(this.zoom);\n            this.changeGroup(this.selectedQuestion, index);\n          });\n      });\n    },\n  },\n};\n</script>\n\n<style>\n#forceGraph {\n    width: 150%;\n    height: 300%;\n    transform: translate(-20%,-30%);\n}\n\n.axis line{\n    fill: none;\n    stroke: black;\n    shape-rendering: crispEdges;\n}\n\n.tick text {\n    transform: rotate(45deg);\n    transform-box: fill-box;\n    cursor:pointer;\n    font-family: sans-serif;\n    font-size: 12px;\n    user-select:none;\n}\n\n.axisBottom .tick text{\n  transform-origin:left;\n}\n\n.axisTop .tick text{\n  transform-origin:right;\n}\n\n.axisLeft .tick text{\n  transform:translate(-5px,5px)rotate(45deg);\n  transform-origin:right;\n}\n\n.axisRight .tick text{\n  transform:translate(5px,-5px)rotate(45deg);\n  transform-origin:left;\n}\n\n.cardTitle{\n  background-color: rgb(231, 231, 231);\n  border-radius:5px;\n  color: black;\n  font-family: Sans-serif;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Graph.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Graph.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Graph.vue?vue&type=template&id=23dcd21d&\"\nimport script from \"./Graph.vue?vue&type=script&lang=js&\"\nexport * from \"./Graph.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Graph.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"100%\"}},[_c('CardTitile',{attrs:{\"name\":\"Respondent\"}},[_vm._v(\" \"+_vm._s((\"\" + _vm.peopleIndexConstraints))+\" \")]),_c('div',{attrs:{\"id\":\"arcDiagram\"}},[_c('svg',{attrs:{\"id\":\"arcSvg\"}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable no-unused-vars */\n<template>\n<div style=\"height:100%\">\n  <CardTitile name='Respondent'>\n    {{`${peopleIndexConstraints}`}}\n  </CardTitile>\n    <div id=\"arcDiagram\">\n        <svg id='arcSvg'>\n        </svg>\n    </div>\n</div>\n</template>\n\n<script>\nimport * as d3 from 'd3';\nimport * as util from '../util/util';\nimport CardTitile from './utilComponents/CardTitle.vue';\n\nexport default {\n  name: 'arc',\n  components: {\n    CardTitile,\n  },\n  data() {\n    return {\n      littleR: 100,\n      bigR: 150,\n      center: { x: 200, y: 200 },\n      littlePadding: 0.03,\n      bigPadding: 0.3,\n      CurvePerPeople: 0,\n      radiusPerPeople: 0.15,\n      peopleOptionList: [[200, [1, 1]], [100, [1, 1]]],\n      showNameThreshold: 0.5,\n\n    };\n  },\n  computed: {\n    peopleIndexConstraints() {\n      const con = this.$store.state.peopleIndexConstraints;\n      return (typeof (con[1]) === 'undefined') ? 'ALL' : `who answered '${con[1]}' in Q${con[0]}`;\n    },\n    selectedHyperEdge() {\n      return this.$store.state.selectedHyperEdge;\n    },\n    questionOption() {\n      return this.$store.state.questionOption;\n    },\n    selectedNode() {\n      return this.$store.state.selectedNode;\n    },\n  },\n  watch: {\n    selectedNode(val) {\n      const selectedHyperEdge = [val];\n      this.hyperEdgeOption = [util.findQuestionOptionsbyId(val).slice(0, 4)];\n      this.hyperEdgeOptionNum = [util.findQuestionOptionsNumbyId(val).slice(0, 4)];\n      d3.select('#arcCurve')\n        .selectAll('*')\n        .remove();\n      d3.select('#circleSvg')\n        .selectAll('*')\n        .remove();\n      d3.select('#nameLayer')\n        .selectAll('*')\n        .remove();\n      this.curveList = this.solveCurve(selectedHyperEdge.map(\n        (x) => util.findQuestionOptionsNumbyId(x),\n      ));\n      this.curveNameList = selectedHyperEdge.map(\n        (x) => util.findQuestionOptionsbyId(x),\n      );\n      // console.log('I need this', this.curveList);\n      this.curveList.forEach((list, index) => {\n        // eslint-disable-next-line no-unused-vars\n        this.nameLayer\n          .append('text')\n          .text(util.id2Question(selectedHyperEdge[index]))\n          .attr('x',\n            ((this.bigR + this.littleR))\n        * (Math.sin((list[0][0] + list[list.length - 1][1]) / 2)))\n          .attr('y',\n            ((this.bigR + this.littleR / 3))\n        * (Math.cos((list[0][0] + list[list.length - 1][1]) / 2)));\n\n        list.forEach((curvePair, pairIndex) => {\n          // let name = '';\n          // if (curvePair[1] - curvePair[0] > this.showNameThreshold) {\n          const name = this.curveNameList[index][pairIndex];\n          // }\n          d3.select('#arcCurve')\n            .append('path')\n            .on('mousemove', (d) => {\n              d3.select('#tooltip')\n                .style('left', `${d.clientX + 10}px`)\n                .style('top', `${d.clientY + 10}px`)\n                .style('z-index', 20)\n                .style('display', 'inline')\n                .text(name);\n            })\n            .on('mouseleave', () => {\n              d3.select('#tooltip')\n                .style('display', 'none');\n            })\n            .attr('d', this.solvePath(curvePair[0], curvePair[1], name))\n            .attr('fill', this.$store.state.problemColArr[\n              this.$store.state.questionTypeList[selectedHyperEdge[index]]\n            ])\n            .style('cursor', 'pointer')\n            .on('click', () => {\n              console.log('clickselectNode', selectedHyperEdge[index]);\n              this.dataRequestContraints = [selectedHyperEdge[index], name];\n              this.$store.dispatch('dataRequestContraints', this.dataRequestContraints);\n            });\n        });\n      });\n    },\n    questionOption() {\n      this.hyperEdgeOption = this.$store.state.questionOption;\n      this.hyperEdgeOptionNum = this.$store.state.questionOptionNum;\n      d3.select('#arcCurve')\n        .selectAll('*')\n        .remove();\n      d3.select('#circleSvg')\n        .selectAll('*')\n        .remove();\n      d3.select('#nameLayer')\n        .selectAll('*')\n        .remove();\n      this.curveList = this.solveCurve(this.selectedHyperEdge.map(\n        (x) => util.findQuestionOptionsNumbyId(x),\n      ));\n      this.curveNameList = this.selectedHyperEdge.map(\n        (x) => util.findQuestionOptionsbyId(x),\n      );\n      // console.log('I need this', this.curveList);\n      this.curveList.forEach((list, index) => {\n        // eslint-disable-next-line no-unused-vars\n        this.nameLayer\n          .append('foreignObject')\n          .attr('x',\n            ((this.bigR + this.littleR) + 10)\n        * (Math.sin((list[0][0] + list[list.length - 1][1]) / 2)) - 70)\n          .attr('y',\n            ((this.bigR + this.littleR / 3))\n        * (Math.cos((list[0][0] + list[list.length - 1][1]) / 2)) - 40)\n          .attr('width', '150')\n          .attr('height', '100')\n          .append('xhtml:div')\n          .attr('xmlns', 'http://www.w3.org/1999/xhtml')\n          .attr('class', 'longtextArc')\n          .text(`${util.id2Name(this.selectedHyperEdge[index])\n          }:${util.id2Question(this.selectedHyperEdge[index])}`);\n\n        list.forEach((curvePair, pairIndex) => {\n          let name = '';\n          // if (curvePair[1] - curvePair[0] > this.showNameThreshold) {\n          name = this.curveNameList[index][pairIndex];\n          // }\n          d3.select('#arcCurve')\n            .append('path')\n            .attr('d', this.solvePath(curvePair[0], curvePair[1], name))\n            .attr('fill', this.$store.state.problemColArr[\n              this.$store.state.questionTypeList[this.selectedHyperEdge[index]]\n            ])\n            .style('cursor', 'pointer')\n            .on('mousemove', (d) => {\n              d3.select('#tooltip')\n                .style('left', `${d.clientX + 10}px`)\n                .style('top', `${d.clientY + 10}px`)\n                .style('z-index', 20)\n                .style('display', 'inline')\n                .text(name);\n            })\n            .on('mouseleave', () => {\n              d3.select('#tooltip')\n                .style('display', 'none');\n            })\n            .on('click', () => {\n              console.log('click', this.selectedHyperEdge[index]);\n              this.dataRequestContraints = [this.selectedHyperEdge[index], name];\n              this.$store.dispatch('dataRequestContraints', this.dataRequestContraints);\n            });\n        });\n      });\n      console.log(this.hyperEdgeOption, this.hyperEdgeOptionNum, 'this.hyper');\n      this.hyperEdgeOption.forEach((optionArr, optionArrIndex) => {\n        /* eslint-disable max-len */\n        console.log('optionArr', optionArr, this.selectedHyperEdge);\n        const optionIdArr = optionArr.map((option, index) => util.findQuestionOptionIdbyContext(option, this.selectedHyperEdge[index]));\n        console.log('!~~~~', this.hyperEdgeOptionNum[optionArrIndex], optionIdArr, this.colorArr[optionArrIndex]);\n        this.addPeople(this.hyperEdgeOptionNum[optionArrIndex], optionIdArr, this.colorArr[optionArrIndex]);\n      });\n    },\n  },\n  mounted() {\n    this.colorArr = this.$store.state.colorArr;\n    const svg = d3.select('#arcSvg')\n      .append('g')\n      .attr('transform', 'scale(0.8)translate(50,+20)')\n      .append('g')\n      .attr('id', 'arcGraph')\n      .attr('transform', 'translate(300,200)')\n      .append('g')\n      .attr('id', 'arcCurve');\n    this.nameLayer = d3.select('#arcGraph')\n      .append('g')\n      .attr('id', 'nameLayer');\n    d3.select('#arcGraph')\n      .insert('g', '#arcCurve') //   arcCurveg\n      .attr('id', 'circleSvg');\n    console.log(svg);\n    // this.peopleList = [[100, 300, 100], [100, 300, 100]];\n    // this.curveList = this.solveCurve(this.peopleList);\n    // // svg.append('path')\n    // //   .attr('d', this.solvePath(curveList[0][0][0], curveList[0][0][1]));\n    // this.curveList.forEach((list) => {\n    //   list.forEach((curvePair) => {\n    //     svg.append('path')\n    //       .attr('d', this.solvePath(curvePair[0], curvePair[1], ''))\n    //       .attr('fill', this.$store.state.normalProblemCol)\n    //       .on('mousemove', (d) => {\n    //         d3.select('#tooltip')\n    //           .style('left', `${d.clientX + 10}px`)\n    //           .style('top', `${d.clientY + 10}px`)\n    //           .style('z-index', 20)\n    //           .style('display', 'inline')\n    //           .text('name');\n    //       })\n    //       .on('mouseleave', () => {\n    //         d3.select('#tooltip')\n    //           .style('display', 'none');\n    //       });\n    //   });\n    // });\n    // this.peopleOptionList.forEach((optionList, index) => {\n    //   this.addPeople(optionList[0], optionList[1], this.colorArr[index]);\n    // });\n  },\n  methods: {\n    addPeople(number, optionList, col) {\n      console.log(number, optionList, col, 'people');\n      const circleSvg = d3.select('#circleSvg');\n      const radius = number * this.radiusPerPeople;\n      optionList.forEach((option, questionIndex) => {\n        console.log('curveList', this.curveList, this.curveList[questionIndex], option);\n        const beginCurve = this.curveList[questionIndex][option][0];\n        const endCurve = beginCurve + number * this.CurvePerPeople;\n        console.log('endCurve', beginCurve, endCurve);\n        // circleSvg.append('polygon')\n        //   .attr('points', `0,0\n        //     ${Math.sin(beginCurve) * this.bigR},${Math.cos(beginCurve) * this.bigR}\n        //     ${Math.sin(endCurve) * this.bigR},${Math.cos(endCurve) * this.bigR}`)\n        //   .attr('style', `fill:rgba(${col},1)`);\n        circleSvg.append('path')\n          .attr('d', d3.arc()({\n            outerRadius: this.bigR,\n            startAngle: Math.PI - endCurve,\n            endAngle: Math.PI - beginCurve,\n            innerRadius: 0,\n          }))\n          .attr('style', `fill:rgba(${col},1)`);\n        this.curveList[questionIndex][option][0] += number * this.CurvePerPeople;\n      });\n      circleSvg.append('circle')\n        .attr('r', radius)\n        .attr('cx', 0)\n        .attr('cy', 0)\n        .attr('fill', `rgba(${col},1)`);\n    },\n    solveCurve(dataList) {\n    //   console.log('~~~~~~~~~~~', dataList);\n      let sumPadding = dataList.length * this.bigPadding;// \n      // eslint-disable-next-line max-len\n      if (dataList.length === 1) sumPadding = this.littlePadding;// padding,padding\n      let sumPeople = 0;\n      dataList.forEach((list) => {\n        sumPadding += (list.length - 1) * this.littlePadding;\n        list.forEach((number) => { sumPeople += number; });\n      });\n      console.log('sumpeople', sumPeople, dataList);\n      const leftCurve = Math.PI * 2 - sumPadding;\n      this.CurvePerPeople = leftCurve / sumPeople;\n      let arcList = [];\n      arcList = dataList.map((list) => list.map((number) => (number * leftCurve) / sumPeople));\n      const beginEndArcList = [];\n      let temp = 0;\n      for (let i = 0; i < arcList.length; i += 1) {\n        const tempList = [];\n        for (let j = 0; j < arcList[i].length; j += 1) {\n          tempList.push([temp, temp + arcList[i][j]]);\n          temp += this.littlePadding + arcList[i][j];\n        }\n        beginEndArcList.push(tempList);\n        temp += this.bigPadding - this.littlePadding;\n      }\n      return beginEndArcList;\n    },\n    solvePath(beginCurve, endCurve, name) {\n      // this.nameLayer\n      // .append('text')\n      // .text()\n    //   console.log('beginCurve', beginCurve, endCurve);\n      const { littleR, bigR } = this;\n      console.log(name);\n      // const nameP = [1.5 * bigR * Math.sin((beginCurve + endCurve) / 2), 1.5 * bigR * Math.cos((beginCurve + endCurve) / 2)];\n      // d3.select('#nameLayer')\n      //   .append('foreignObject')\n      //   .attr('x', nameP[0] - 80)\n      //   .attr('y', nameP[1])\n      //   .attr('width', '150')\n      //   .attr('height', '50')\n      //   .append('xhtml:div')\n      //   .attr('width', '150px')\n      //   .attr('height', '50px')\n      //   .attr('xmlns', 'http://www.w3.org/1999/xhtml')\n      //   .attr('class', 'longtextArc')\n      //   .text(name);\n      const fP = [littleR * Math.sin(beginCurve), littleR * Math.cos(beginCurve)];\n      const sP = [bigR * Math.sin(beginCurve), bigR * Math.cos(beginCurve)];\n      const tP = [littleR * Math.sin(endCurve), littleR * Math.cos(endCurve)];\n      const foP = [bigR * Math.sin(endCurve), bigR * Math.cos(endCurve)];\n      const bigCurOrsmallCur = (endCurve - beginCurve > Math.PI) ? 1 : 0;\n      let d = `M ${fP[0]} ${fP[1]} A ${this.littleR} ${this.littleR} 0 ${bigCurOrsmallCur} 0 ${tP[0]} ${tP[1]}`;\n      d += ` L ${foP[0]} ${foP[1]} A ${this.bigR} ${this.bigR} 0 ${bigCurOrsmallCur} 1 ${sP[0]} ${sP[1]} z`;\n      return d;\n    },\n  },\n};\n</script>\n\n<style scoped>\n\nsvg{\n    width:100%;\n    height: 100%;\n}\ndiv{\n    width:100%;\n    height: 100%;\n}\n</style>\n\n<style>\n.longtextArc{\n\n/* text-overflow:ellipsis; */\n\n/* overflow: hidden; */\nborder-radius:10px;\npadding-left: 10px;\npadding-right: 10px;\n/* background-color: aqua; */\ncolor: black;\ntext-align: center;\n/* white-space: nowrap; */\nheight: auto;\n}\n\n.longtextArc:hover{\n\nborder-radius:10px;\npadding-left: 10px;\npadding-right: 10px;\n/* background-color: aqua; */\ncolor: black;\ntext-align: center;\n/* white-space: nowrap; */\nheight: auto;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Arc.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Arc.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Arc.vue?vue&type=template&id=95f9af74&scoped=true&\"\nimport script from \"./Arc.vue?vue&type=script&lang=js&\"\nexport * from \"./Arc.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Arc.vue?vue&type=style&index=0&id=95f9af74&scoped=true&lang=css&\"\nimport style1 from \"./Arc.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"95f9af74\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div id=\"app\" v-loading.fullscreen.lock=\"fullScreenLoading\" >\n\n      <!-- <div id=\"lineStart\"></div>\n      <div id=\"lineEnd\"></div> -->\n      <div id='tooltip'></div>\n      <el-card v-if=\"!fullScreenLoading\" shadow=\"never\" id='question'\n        class=\"box-card\" :body-style=\"bodyCardStyle\">\n            <Question/>\n      </el-card>\n      <el-card v-if=\"!fullScreenLoading\" shadow=\"never\" id=\"graph\"\n        class=\"box-card\"  :body-style=\"bodyCardStyle\">\n            <Graph :slider-value=\"val1\"/>\n      </el-card>\n      <!-- <el-card v-if=\"!fullScreenLoading\" shadow=\"never\" id=\"sankey\"\n        class=\"box-card\"   :body-style=\"bodyCardStyle\">\n            <Causal />\n      </el-card> -->\n      <el-card v-if=\"!fullScreenLoading\" shadow=\"never\" id=\"sankey\"\n        class=\"box-card\"   :body-style=\"bodyCardStyle\">\n            <Causal />\n      </el-card>\n      <el-card v-if=\"!fullScreenLoading\" shadow=\"never\" id=\"matrix\"\n        class=\"box-card\"  :body-style=\"bodyCardStyle\">\n            <Matrix />\n      </el-card>\n      <el-card v-if=\"!fullScreenLoading\" shadow=\"never\" id='arc'\n        class=\"box-card\" :body-style=\"bodyCardStyle\">\n            <Arc/>\n      </el-card>\n        <div id=\"del\" v-if=\"false\">\n            <div style=\"margin-top: 15px;\">\n                <el-input placeholder=\"Qid\" v-model=\"input2\">\n                    <el-button slot=\"append\" icon=\"el-icon-remove-outline\"\n                    @click=\"delNode\"></el-button>\n                    <el-button slot=\"prepend\" icon=\"el-icon-circle-plus-outline\"\n                    @click=\"addNode\"></el-button>\n                </el-input>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n// import * as leaderLine from 'leader-line';\nimport Question from './components/Question.vue';\nimport Matrix from './components/Matrix.vue';\nimport Causal from './components/Causal.vue';\nimport Graph from './components/Graph.vue';\nimport Arc from './components/Arc.vue';\nimport * as util from './util/util';\n\nexport default {\n  name: 'App',\n  data() {\n    return {\n      input2: null,\n      input3: null,\n      bodyCardStyle: 'height:100%;padding:0px',\n      flag: true,\n      start: [-100, -100],\n      end: [-100, -100],\n      // line: new leaderLine.LeaderLine(\n      //   document.getElementById('lineStart'),\n      //   document.getElementById('lineEnd'),\n      // ),\n    };\n  },\n  computed: {\n    fullScreenLoading() {\n      console.log('finish loading');\n      return this.$store.state.fullScreenLoading;\n    },\n  },\n  mounted() {\n    this.$store.commit('updateLoading', true);\n    this.$store.dispatch('dataRequest', { question: [], people: [] });\n  },\n  components: {\n    Matrix, Causal, Graph, Arc, Question,\n  },\n  methods: {\n    rightClick() {\n      console.log(this.val1);\n      if (this.flag) {\n        console.log(this.line);\n      } else {\n        this.flag = !this.flag;\n      }\n    },\n    delNode() {\n      const nodeid = util.name2Id(this.input2);\n      this.$store.commit('delNode', nodeid);\n    },\n    addNode() {\n      const nodeid = util.name2Id(this.input2);\n      this.$store.commit('addNode', nodeid);\n    },\n  },\n};\n</script>\n\n<style>\n.sliderLineLine{\n  position: fixed;\n  z-index: 999;\n  top:49%;\n  left:64%;\n  width: 8%;\n  height: 1%;\n  display: inline;\n}\n\n.sliderLine{\n  position: fixed;\n  z-index: 999;\n  top:50.5%;\n  left:64%;\n  width: 8%;\n  height: 1%;\n  display: inline;\n}\n\n.sliderHint{\n  text-align: right;\n  position: fixed;\n  z-index: 999;\n  top:49%;\n  left:60%;\n  width: 3.5%;\n  height: 1%;\n  display: inline;\n  font-size: small;\n  font-family: sans-serif;\n}\n\n#lineStart{\n  position: fixed;\n  z-index: 999;\n  top:10%;\n  left:10%;\n  width: 40%;\n  height: 30%;\n}\n\n#lineStart{}\n\n#tooltip {\n    /* outline: .6em solid #655; */\n    box-shadow: 0 0 0 .4em rgb(0, 0, 0);\n    max-width: 10em;\n    border-radius: .8em;\n    padding: 1em;\n    margin: 1em;\n    background: white;\n    font: 100%/1.5 sans-serif;\n    position: fixed;\n    display: none;\n}\n\n.littleHead{\n  color: #fff;\n  font-family: sans-serif;\n  line-height: 1.5;\n  z-index: 98;\n  padding-left: 1%;\n  padding-right: 1%;\n  font-size: 1.2pc;\n  border-radius:25px;\n  font-weight: bold;\n}\n\n#questionHead{\n  position: fixed;\n  background-color: rgb(34, 34, 34);\n  top:6%;\n  left: 2%;\n}\n#OverviewHead{\n  position: fixed;\n  background-color: rgb(34, 34, 34);\n  top:6%;\n  left: 23%;\n}\n#CausalHead{\n  position: fixed;\n  background-color: rgb(34, 34, 34);\n  top:6%;\n  left: 75%;\n}\n#HypergraphHead{\n  position: fixed;\n  background-color: rgb(34, 34, 34);\n  top:59%;\n  left: 35%;\n}\n#RespondentHead{\n  position: fixed;\n  background-color: rgb(34, 34, 34);\n  top:59%;\n  left: 2%;\n}\n\n#head{\n  top:0%;\n  left: 0%;\n  right: 0%;\n  position: fixed;\n  background-color: rgb(34, 34, 34);\n  height:4%;\n  text-align: center;\n  font-size: 1.8pc;\n  color: #fff;\n  font-family: sans-serif;\n  font-weight: bold;\n  line-height: 1.5;\n}\n\n#search{\n  top:0%;\n  left: 10%;\n  height: 10%;\n  width:10%;\n  z-index: 99;\n  position:fixed;\n}\n\n#del{\n  top:5%;\n  right: 3%;\n  height: 10%;\n  width:10%;\n  z-index: 99;\n  position:fixed;\n}\n\n#app {\n  top:0%;\n  left: 0%;\n    height: 2000px;\n    width: 100%;\n    position: fixed;\n    background-color: #fff;\n}\n\n#question{\n    /* background-color: #ffffff; */\n    height: 55%;\n    width: 20%;\n    top: 1%;\n    left: 1%;\n    position: fixed;\n    /* box-shadow: 10px 10px 5px #888888; */\n     /* border: medium solid #555555; */\n}\n#question::-webkit-scrollbar {\n        display: none;\n    }\n\n#graph {\n    /* background-color: #ffffff; */\n    height: 55%;\n    width: 51%;\n    top: 1%;\n    left: 22%;\n    position: fixed;\n    /* box-shadow: 10px 10px 5px #888888; */\n    /* border: medium solid #555555; */\n}\n#sankey {\n    /* background-color: #ffffff; */\n    height: 89%;\n    width: 24%;\n    top: 1%;\n    right: 2%;\n    position: fixed;\n    /* box-shadow: 10px 10px 5px #888888; */\n    /* border: medium solid #555555; */\n}\n#matrix {\n    /* background-color: #ffffff; */\n    height: 32%;\n    bottom: 10%;\n    left: 34%;\n    right: 27%;\n    position: fixed;\n    /* box-shadow: 10px 10px 5px #888888; */\n    /* border: medium solid #555555; */\n}\n#arc{\n    /* background-color: #ffffff; */\n    height: 32%;\n    bottom: 10%;\n    width:32%;\n    left: 1%;\n    position: fixed;\n    /* box-shadow: 10px 10px 5px #888888; */\n    /* border: medium solid #555555; */\n}\n\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=2a55a7ee&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport ElementUI from 'element-ui';\nimport * as echarts from 'echarts';\nimport App from './App.vue';\nimport 'element-ui/lib/theme-chalk/index.css';\nimport store from './store/index';\n\nVue.config.productionTip = false;\nVue.use(ElementUI);\nVue.prototype.$echarts = echarts;\n\nnew Vue({\n  render: (h) => h(App),\n  store,\n}).$mount('#app');\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Arc.vue?vue&type=style&index=1&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Matrix.vue?vue&type=style&index=0&id=0893dc74&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Graph.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Arc.vue?vue&type=style&index=0&id=95f9af74&scoped=true&lang=css&\""],"sourceRoot":""}